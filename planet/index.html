<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="utf-8"/>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
    
    <meta content="IE=8" http-equiv="X-UA-Compatible"/>
    <title>OCaml :: OCaml Planet</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <meta content="Ashish Agarwal, Esther Baruk, Christophe Troestler and many contributors" name="author"/>
    <meta content="" name="description"/>
    <meta content="" name="keywords"/>
    <meta content="OCaml (Weberizer)" name="generator"/>

    <link href="https://static.ocamlcore.org/official/images/favicon.ico" rel="shortcut icon"/>
    <link rel="stylesheet" href=".././css/bootstrap.css"/>
    <link href=".././css/ocaml.css" media="all" type="text/css" rel="stylesheet"/>
    <link rel="stylesheet" href=".././css/bootstrap-responsive.css"/>

    
    

    <meta content="OCaml Planet" property="og:title"/>
    <meta content="non_profit" property="og:type"/>

    <meta content="all" name="robots"/>
  </head>
  <body>
    <div id="header">
      <div class="top">
      </div>
      <div class="bottom">
      </div>
    </div>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
	  
          <a data-target=".nav-collapse" data-toggle="collapse" class="btn btn-navbar">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a href=".././" class="brand">OCaml</a>

          <div class="nav-collapse">
            <ul class="nav">
	      <li class="dropdown">
  <a href="../#" class="dropdown-toggle" data-toggle="dropdown">
    Discover
    <b class="caret"></b>
  </a>
  <ul class="dropdown-menu">
    <li><a href="../description.html">What is OCaml?</a></li>
    <li><a href="http://try.ocamlpro.com/">Try it Online</a></li>
    <li><a href="../taste.html">100 Lines of OCaml</a></li>
    <li><a href="../success.html">Success Stories</a></li>
    <li><a href="../companies.html">Who Is Using It?</a></li>
    <li><a href="http://pleac.sourceforge.net/pleac_ocaml/">Pleac</a></li>
    <li><a href="http://rosettacode.org/wiki/Category:OCaml">Rosetta</a>
        <a href="http://langref.org/ocaml">langref.org</a></li>
  </ul>
</li>
<li class="dropdown">
  <a href="../#" class="dropdown-toggle" data-toggle="dropdown">
    Learn
    <b class="caret"></b></a>
  <ul class="dropdown-menu">
    <li><a href="../install.html">Install</a></li>
    <li><a href="../tutorials/">Tutorials</a></li>
    <li><a href="../faq.html">FAQ</a></li>
    <li><a href="../books.html">Books</a></li>
    <li><a href="../videos.html">Videos</a></li>
    <li><a href="../papers.html">Papers</a></li>
  </ul>
</li>
<li class="dropdown">
  <a href="../#" class="dropdown-toggle" data-toggle="dropdown">Use
    <b class="caret"></b></a>
  <ul class="dropdown-menu">
    <li><a href="../releases/">Releases</a></li>
    <li><a href="../libraries.html">Libraries</a></li>
    <li><a href="../dev_tools.html">Development Tools</a></li>
    <li><a href="../books.html#manual">User Manual</a></li>
    <li><a href="../cheat_sheets.html">Cheat Sheets</a></li>
    <li><a href="http://search.ocaml.jp/">OCaml API Search</a></li>
    <li><a href="http://forge.ocamlcore.org/">Forge</a></li>
    <li><a href="https://github.com/languages/OCaml">GitHub</a></li>
    <li><a href="https://bitbucket.org/repo/all?name=ocaml">Bitbucket</a></li>
  </ul>
</li>
<li class="dropdown">
  <a href="../#" class="dropdown-toggle" data-toggle="dropdown">Community
    <b class="caret"></b></a>
  <ul class="dropdown-menu">
    <li><a href="../mailing_lists.html">Mailing Lists</a></li>
    <li><a href="../planet/">Blogs</a></li>
    <li><a href="../meetings.html">Meetings</a></li>
    <li><a href="irc://irc.freenode.net/ocaml">IRC</a></li>
    <li><a href="http://stackoverflow.com/questions/tagged?tagnames=ocaml">Stack Overflow</a></li>
    <li><a href="http://www.reddit.com/r/ocaml/">Reddit</a></li>
    <li><a href="../support.html">Commercial Support</a></li>
  </ul>
</li>
<li class="dropdown">
  <a href="../#" class="dropdown-toggle" data-toggle="dropdown">More
    <b class="caret"></b></a>
  <ul class="dropdown-menu">
    <li><a href="http://caml.inria.fr/mantis/">Mantis Bug Tracker</a></li>
    <li><a href="../caml-light/">Caml Light</a></li>
    <li><a href="../logos.html">Logos</a></li>
  </ul>
</li>

            </ul>
	    <form action="http://www.google.com/search" method="get" class="navbar-search pull-right">
	      <input placeholder="Search" class="search-query" name="q" type="text"/>
	      <input value="site:http://www.ocaml.org/" name="q" type="hidden"/>
	    </form>
            
	    
          </div>
        </div>
      </div>
    </div>

    <div class="container">
      <span class="navigation-bar">
	<a href="./../">Home</a><span class="separation"><img src=".././img/right_arrow.png" alt="&gt;"/></span>OCaml Planet
	<span id="language">
	  <span class="horizontal-toolbar"><span class="open-bracket">[</span><span class="current-url">En</span><span class="close-bracket">]</span></span>
	</span>
      </span>

      

    <h1>OCaml Planet</h1>

    <p>The OCaml Planet aggregates various blogs from the OCaml
    community.  It is kindly provided
    by <a href="http://www.ocamlcore.com/">OCamlCore</a>.  If you
    would like to be added, read
    the <a href="http://www.ocamlcore.org/planet/">Planet
    subscription HOWTO</a>.</p>

    <br/>
    <div style="float: right; margin-right: 0; margin-top: 0" class="span2 planet-subscriptions"><em>Subscriptions</em>
      <ul><li><a href="http://alexleighton.tumblr.com/tagged/ocaml/rss">Alex Leighton</a></li><li><a href="http://feeds.feedburner.com/amirmc-ocaml">Amir Chaudhry</a></li><li><a href="http://andreiformiga.com/blog/?cat=5&feed=rss2">Andrei Formiga</a></li><li><a href="http://math.andrej.com/feed/">Andrej Bauer</a></li><li><a href="http://anil.recoil.org/feeds/atom.xml">Anil Madhavapeddy</a></li><li><a href="http://ashishagarwal.org/tag/ocaml/feed/">Ashish Agarwal</a></li><li><a href="http://www.blogger.com/feeds/7617521785419311079/posts/default">Cameleon news</a></li><li><a href="http://caml.inria.fr/news.en.rss">Caml INRIA</a></li><li><a href="http://camlspotter.blogspot.com/feeds/posts/default?alt=rss">Caml Spotting</a></li><li><a href="http://alan.petitepomme.net/cwn/cwn.rss">Caml Weekly News</a></li><li><a href="http://coherentpdf.com/blog/?tag=ocaml&feed=rss">Coherent Graphics</a></li><li><a href="http://coq.inria.fr/news/feed">Coq</a></li><li><a href="http://erratique.ch/feeds/news.atom">Daniel Bünzli</a></li><li><a href="http://nleyten.com:82/feed/tag/ocaml/atom">Dario Teixeira</a></li><li><a href="http://www.blogger.com/feeds/17133288/posts/default/-/ocaml">David Baelde</a></li><li><a href="http://bentobako.org/david/blog/index.php?feed/tag/ocaml/atom">David Mentré</a></li><li><a href="http://dutherenverseauborddelatable.wordpress.com/category/ocaml/feed/">David Teller</a></li><li><a href="http://www.examachine.net/blog/cat/ocaml/feed/">Eray Özkural</a></li><li><a href="http://www.mega-nerd.com/erikd/Blog/index.rss20">Erik de Castro Lopo</a></li><li><a href="http://blog.emillon.org/feeds/ocaml.xml">Etienne Millon</a></li><li><a href="http://www.blogger.com/feeds/8964007124326996693/posts/default/-/ocaml">Fayssal Martani</a></li><li><a href="http://frama-c.com/rss.xml">Frama-C</a></li><li><a href="http://functionaljobs.com/jobs/search/?q=ocaml&format=rss">Functional Jobs</a></li><li><a href="http://gallium.inria.fr/blog/index.rss">GaGallium</a></li><li><a href="http://gaiustech.wordpress.com/category/ocaml/feed/">Gaius Hammond</a></li><li><a href="http://blog.camlcity.org/blog/rss">Gerd Stolpmann</a></li><li><a href="http://www.wisdomandwonder.com/tag/OCaml/feed">Grant Rettke</a></li><li><a href="http://hongboz.wordpress.com/feed/">Hong bo Zhang</a></li><li><a href="http://blog.incubaid.com/tag/ocaml/feed/">Incubaid Research</a></li><li><a href="http://ambassadortothecomputers.blogspot.com/feeds/posts/default?alt=rss">Jake Donham</a></li><li><a href="http://scattered-thoughts.net/atom.xml">Jamie Brandon</a></li><li><a href="https://ocaml.janestreet.com/?q=rss.xml">Jane Street</a></li><li><a href="http://lpw25.net/rss.xml">Leo White</a></li><li><a href="http://www.lexifi.com/blogs/ocaml/feed">LexiFi</a></li><li><a href="http://newblog.0branch.com/rss.xml">Marc Simpson</a></li><li><a href="http://syntaxexclamation.wordpress.com/tag/ocaml/feed/">Matthias Puech</a></li><li><a href="http://www.blogger.com/feeds/5888658295182480819/posts/default">Matías Giovannini</a></li><li><a href="http://www.elehack.net/michael/blog/tags/ocaml?format=rss">Michael Ekstrand</a></li><li><a href="">Mihamina Rakotomandimby</a></li><li><a href="http://mcclurmc.wordpress.com/feed/">Mike McClurg</a></li><li><a href="http://nyc-ocaml.posterous.com/rss.xml">NYC OCaml</a></li><li><a href="http://forge.ocamlcore.org/export/rss_sfnews.php">OCamlCore Forge News</a></li><li><a href="http://forge.ocamlcore.org/export/rss_sfprojects.php">OCamlCore Forge Projects</a></li><li><a href="http://www.ocamlcore.com/wp/?feed=rss2&amp;language=en&#038;language=en">OCamlCore.com</a></li><li><a href="http://www.ocamlpro.com/feed/atom.xml">OCamlPro</a></li><li><a href="http://odns.tuxfamily.org/feed/">ODNS project</a></li><li><a href="http://ox.tuxfamily.org/feed/">Ocaml XMPP project</a></li><li><a href="http://ocsigen.org/news.atom">Ocsigen project</a></li><li><a href="http://www.blogger.com/feeds/2073503406800427577/posts/default">Opa</a></li><li><a href="http://www.openmirage.org/blog/atom.xml">Open Mirage</a></li><li><a href="http://functional-orbitz.blogspot.com/feeds/posts/default/-/planetocaml?alt=rss">Orbitz</a></li><li><a href="http://www.donadeo.net/facets/programming-languages/objective-caml/feed/">Paolo Donadeo</a></li><li><a href="https://mancoosi.org/~abate/taxonomy/term/5/0/feed">Pietro Abate</a></li><li><a href="http://rwmj.wordpress.com/tag/ocaml/feed/">Richard Jones</a></li><li><a href="http://blog.rastageeks.org/spip.php?page=rss&id_mot=2">Romain Beauxis</a></li><li><a href="http://seb.mondet.org/blog/feed/ocaml.rss">Sebastien Mondet</a></li><li><a href="http://upsilon.cc/~zack/tags/ocaml/index.rss">Stefano Zacchiroli</a></li><li><a href="http://le-gall.net/sylvain+violaine/blog/index.php?feed/tag/ocaml/atom">Sylvain Le Gall</a></li><li><a href="http://caml.inria.fr/hump.rss">The Caml Humps</a></li><li><a href="http://www.blogger.com/feeds/6115529230232389198/posts/default">Till Varoquaux</a></li><li><a href="http://y-node.com/blog/feeds/latest/">y-node</a></li></ul>

      <a href="http://planet.ocaml.org/rss20.xml"><img src=".././img/rss20.png"/></a>
      <a href="http://planet.ocaml.org/opml.xml"><img src=".././img/opml.png"/></a>
    </div>
    <div class="planet"><a name="fff370dad334a3cea6ff81e4b3b0dff5"></a><span class="rss-header"><span class="rss-title"><a href="http://le-gall.net/sylvain+violaine/blog/index.php?post/2013/04/01/Sekred-a-password-helper-for-puppet."> Sekred a password helper for puppet.</a></span>&nbsp;&mdash;&nbsp;<span class="rss-author">Sylvain Le Gall</span>, <span class="rss-date">03 Apr 2013</span></span><span class="rss-description"><div id="post1"><p>Puppet is a nice tool but it has a significant problem with passwords:</p> <ul> <li>it is recommended to store puppet manifests (*.pp) and related files in a VCS (i.e. git)</li> <li>it is not recommended to store password in a VCS</li> </ul> <p>This lead to complex situation and various workaround that more or less work:</p> <ul> <li>serve password in a separate file/DB or do an <em>extlookup</em> on the master (pre-set passwords)</li> <li>store password on the server and get them through a <em>generate</em> function (random password but on the master)</li> </ul> <p>Most of these workarounds are complex, don't allow you to share the password you have set easily and most of the time are stored in another place than the target node.</p> <p>So I have decided to create my own solution: <strong><a href="http://forge.ocamlcore.org/projects/sekred/">sekred</a></strong> (LGPL-2.1).</p> <p>The idea of sekred is to generate the password on the target node and made it available to the user that needs it. Then the user just have to <em>ssh</em> into the host and get the password.</p> <p>Pro:</p> <a onclick="switchContent('post1','post2')" class="btn" href="#fff370dad334a3cea6ff81e4b3b0dff5">Read more...</a></div><div id="post2" style="display: none"><p>Puppet is a nice tool but it has a significant problem with passwords:</p> <ul> <li>it is recommended to store puppet manifests (*.pp) and related files in a VCS (i.e. git)</li> <li>it is not recommended to store password in a VCS</li> </ul> <p>This lead to complex situation and various workaround that more or less work:</p> <ul> <li>serve password in a separate file/DB or do an <em>extlookup</em> on the master (pre-set passwords)</li> <li>store password on the server and get them through a <em>generate</em> function (random password but on the master)</li> </ul> <p>Most of these workarounds are complex, don't allow you to share the password you have set easily and most of the time are stored in another place than the target node.</p> <p>So I have decided to create my own solution: <strong><a href="http://forge.ocamlcore.org/projects/sekred/">sekred</a></strong> (LGPL-2.1).</p> <p>The idea of sekred is to generate the password on the target node and made it available to the user that needs it. Then the user just have to <em>ssh</em> into the host and get the password.</p> <p>Pro:</p> <ul> <li>the password is generated and stored on the node</li> <li>no VCS commit of your password</li> <li>no DB storage of your password beside the local filesystem of the host</li> <li>no need to use a common pre-set password for all you host, the password is randomly generated for only one host</li> <li>to steal the password you need to crack the host first but if you have root access on the host, accessing a random generated password is pointless</li> </ul> <p>Cons:</p> <ul> <li>the password is stored in clear text</li> <li>the password is only protected by the filesystem ACL</li> </ul> <p>Let see some concrete examples.</p> <h2>Setting mysql root password</h2> <p>This is a very simple problem. When you first install mysql on Debian Squeeze, the root password is not set. That's bad. Let set it using sekred and puppet.</p> <pre>node "mysqlserver" { package { ["mysql-server", "mysql-client", "sekred"]: ensure =&gt; installed; } service { "mysqld": name =&gt; "mysql", ensure =&gt; running, hasrestart =&gt; true, hasstatus =&gt; true; } exec { "mysql-set-root-password": command =&gt; "mysqladmin -u root password $(sekred get root@mysql)", onlyif =&gt; "mysql -u root", # Trigger only if password-less root account. require =&gt; [Service["mysqld"], Package["mysql-client", "sekred"]]; } } </pre> <p>And to get the root password for mysql, just login into the node "mysqlserver":</p> <pre>$&gt; sekred get root@mysql Cie8ieza </pre> <h2>Setting password for SSH-only user</h2> <p>This example is quite typical of the broken fully automated scenario with passwords: - you setup a remote host only accessible through SSH - you create a user and set its SSH public key to authorize access - your user <strong>cannot</strong> access its account because SSH prevent password-less account login!</p> <p>In other word, you need to login into the node, set a password for the user and mail him back.... That defeats a little bit the "automation" provided by puppet.</p> <p>Here is what I do with sekred:</p> <pre>define user::template () { user { $name: ensure =&gt; present, membership =&gt; minimum, shell =&gt; "/bin/bash", .... } include "ssh_keys::$name" # Check password less account and set one, if required. $user_passwd="$(sekred get --uid $name $name@login)" exec { "user-set-default-password-$name": command =&gt; "echo $name:$user_passwd | chpasswd", onlyif =&gt; "test \"$(getent shadow $name | cut -f2 -d:)\" = \"!\"", require =&gt; [User[$name], Package["sekred"]]; } } </pre> <p>So the command <em>"test \"$(getent shadow $name | cut -f2 -d:)\" = \"!\""</em> test for a password-less account. If this is the case, it creates a password using <em>sekred get --uid $name $name@login</em> and set it through <em>chpasswd</em>.</p> <p>Note that <em>$user_passwd</em> use a shell expansion that will be evaluated when running the command only, on the host. The <em>--uid</em> flag of sekred assign the ownership of the password to the given user id.</p> <p>So now the user (foo) can login into the node and retrieve its password using <em>sekred get foo@login</em>.</p> <h2>Try it!</h2> <p>Sekred was a very short project but I am pretty happy with it. It solves a long standing problem and helps to cover an extra mile of automation when setting up new nodes.</p> <p>The homepage is <a href="http://forge.ocamlcore.org/projects/sekred/" title="here">here</a> and you can download it <a href="http://forge.ocamlcore.org/frs/?group_id=331" title="here">here</a>. Feel free to send patches, bugs and feature requests (<a href="http://forge.ocamlcore.org/tracker/?group_id=331">here, login required</a>).</p><a onclick="switchContent('post2','post1')" class="btn" href="#fff370dad334a3cea6ff81e4b3b0dff5">Hide</a></div></span>
<a name="780ffca325d5d4cec077fcc203989b1a"></a><span class="rss-header"><span class="rss-title"><a href="https://ocaml.janestreet.com/?q=node/113"> Hackerschool tutorial at Jane Street</a></span>&nbsp;&mdash;&nbsp;<span class="rss-author">Jane Street</span>, <span class="rss-date">03 Apr 2013</span></span><span class="rss-description"><div id="post3"><p><a href="https://ocaml.janestreet.com/sites/default/files/hacker-school-1.jpeg"> <img src="https://ocaml.janestreet.com/sites/default/files/hacker-school-1.jpeg" align="right" border="5" width="300"/></a></p> <p>We just had a really fun tutorial on OCaml, Core and Async for about 20 people from the current <a href="https://www.hackerschool.com/">Hacker School</a> batch. The tutorial was in part based on an early cut of <a href="http://realworldocaml.org">Real World OCaml</a>, and in part based on the examples in the <a href="https://bitbucket.org/yminsky/core-hello-world">Core Hello World</a> repo that has a few examples of Core and Async in action.</p> <p>A few weeks ago, we gave out a small, early snapshot of the first few chapters of RWO, and some instructions for installing <a href="http://opam.ocamlpro.com">OPAM</a> so you could get the appropriate versions of OCaml, Core and Async installed, in the hopes of getting people prepared for the tutorial. A few people also started working on the <a href="http://ocaml.org/tutorials/99problems.html">99 problems in OCaml</a> from the <a href="http://ocaml.org">ocaml.org</a> website.</p> <p><a href="https://ocaml.janestreet.com/sites/default/files/hacker-school-2.jpeg"> <img src="https://ocaml.janestreet.com/sites/default/files/hacker-school-2.jpeg" align="left" border="5" width="300"/></a></p> <p>The tutorial itself lasted about 4 1/2 hours, and we covered a lot of territory. We covered a lot of material in a short period of time, and the pace was fairly blistering. I'm sure everyone didn't fully understand everything, but enough good questions were asked that I think people were getting the basic ideas.</p> <a onclick="switchContent('post3','post4')" class="btn" href="#780ffca325d5d4cec077fcc203989b1a">Read more...</a></div><div id="post4" style="display: none"><p><a href="https://ocaml.janestreet.com/sites/default/files/hacker-school-1.jpeg"> <img src="https://ocaml.janestreet.com/sites/default/files/hacker-school-1.jpeg" align="right" border="5" width="300"/></a></p> <p>We just had a really fun tutorial on OCaml, Core and Async for about 20 people from the current <a href="https://www.hackerschool.com/">Hacker School</a> batch. The tutorial was in part based on an early cut of <a href="http://realworldocaml.org">Real World OCaml</a>, and in part based on the examples in the <a href="https://bitbucket.org/yminsky/core-hello-world">Core Hello World</a> repo that has a few examples of Core and Async in action.</p> <p>A few weeks ago, we gave out a small, early snapshot of the first few chapters of RWO, and some instructions for installing <a href="http://opam.ocamlpro.com">OPAM</a> so you could get the appropriate versions of OCaml, Core and Async installed, in the hopes of getting people prepared for the tutorial. A few people also started working on the <a href="http://ocaml.org/tutorials/99problems.html">99 problems in OCaml</a> from the <a href="http://ocaml.org">ocaml.org</a> website.</p> <p><a href="https://ocaml.janestreet.com/sites/default/files/hacker-school-2.jpeg"> <img src="https://ocaml.janestreet.com/sites/default/files/hacker-school-2.jpeg" align="left" border="5" width="300"/></a></p> <p>The tutorial itself lasted about 4 1/2 hours, and we covered a lot of territory. We covered a lot of material in a short period of time, and the pace was fairly blistering. I'm sure everyone didn't fully understand everything, but enough good questions were asked that I think people were getting the basic ideas.</p> <p>In any case, it was a blast from our perspective, and I hope we can do it again.</p><a onclick="switchContent('post4','post3')" class="btn" href="#780ffca325d5d4cec077fcc203989b1a">Hide</a></div></span>
<a name="fb772ae510826cb579702890f0ae1ddb"></a><span class="rss-header"><span class="rss-title"><a href="https://forge.ocamlcore.org/forum/forum.php?forum_id=872"> ocaml-extunix 0.0.6 released</a></span>&nbsp;&mdash;&nbsp;<span class="rss-author">OCamlCore Forge News</span>, <span class="rss-date">02 Apr 2013</span></span><span class="rss-description"><pre class="rss-text">Except for backwards-incompatible change in fstatat, this is a regular update, with a couple of new bindings. ExtUnix is a collection of thin wrappers for various low-level system api not covered by Unix module.</pre></span>
<a name="7ad792afcd849bda372ce2b438fafbdc"></a><span class="rss-header"><span class="rss-title"><a href="http://alan.petitepomme.net/cwn/2013.04.02.html"> Caml Weekly News, 02 Apr 2013</a></span>&nbsp;&mdash;&nbsp;<span class="rss-author">Caml Weekly News</span>, <span class="rss-date">02 Apr 2013</span></span><span class="rss-description">Yypkg mingw-builds 1.2b1 - 70 Windows 32/64 packages, OCaml cross-compiler / Master-slave architecture behind an ocsigen server.</span>
<a name="012eb69049c736206be19c043ea8f000"></a><span class="rss-header"><span class="rss-title"><a href="http://alan.petitepomme.net/cwn/2013.03.26.html"> Caml Weekly News, 26 Mar 2013</a></span>&nbsp;&mdash;&nbsp;<span class="rss-author">Caml Weekly News</span>, <span class="rss-date">26 Mar 2013</span></span><span class="rss-description">Case study in optimization: porting a compiler from OCaml to F# / Oregon Programming Languages Summer School - call for participation / Other Caml News</span>
<a name="4500c6dfee297759b237d6b0101e99f5"></a><span class="rss-header"><span class="rss-title"><a href="http://bentobako.org/david/blog/index.php?post/2013/01/28/The-failures-of-Debian-%28and-its-derivatives%29"> The failures of Debian (and its derivatives)</a></span>&nbsp;&mdash;&nbsp;<span class="rss-author">David Mentré</span>, <span class="rss-date">22 Mar 2013</span></span><span class="rss-description"><div id="post5"><p>I am a long term Debian user. I have used Debian since probably the mid 90' up to now. I use latest Debian stable on my personal server or at work, and Ubuntu on my desktop and laptop machines at home. Using it does not mean I am entirely satisfied with it to say the least. I think the distribution is not making enough efforts for its users and I'll try to explain why. Of course, YYMV. ;-)</p> <a onclick="switchContent('post5','post6')" class="btn" href="#4500c6dfee297759b237d6b0101e99f5">Read more...</a></div><div id="post6" style="display: none"><p>I am a long term Debian user. I have used Debian since probably the mid 90' up to now. I use latest Debian stable on my personal server or at work, and Ubuntu on my desktop and laptop machines at home. Using it does not mean I am entirely satisfied with it to say the least. I think the distribution is not making enough efforts for its users and I'll try to explain why. Of course, YYMV. ;-)</p> <ul> <li><strong>Debian packaging is made for developers, not users</strong>. Debian has too many packages. To take just one example, the OCaml compiler is packaged into the main compiler, its libraries, the native compiler and the byte code one, etc. Why so many packages? If I am an OCaml developer, I want all of them so why do I need to manually find (the naming is far from being obvious, at least for beginners) and install so many packages? I have heard of several reasons: it allows to factorise common parts between the different binary architectures, it allows to install the command line only parts without the graphics parts, it allows to install only what the user wants, etc. For me, those reasons are just plain wrong. We have more and more disk capacity on our machines so disk usage is no longer a limitation. The package should be able to dynamically activate the graphic parts automatically if the X server is available. And the factorisation of shared parts between Debian architectures should be done on the servers storing the packages, not trough the packaging system.</li> </ul> <ul> <li><strong>Debian has out-dated software</strong>. Debian Wheezy is about to be released and it will have GNOME 3.4. But GNOME 3.6 is already out and GNOME 3.8 is on its way. And I am taking GNOME as an example, it is the same issue for lot of software within Debian. I have heard this is for stability issues. But software packaged in Debian is already stable! It should take 10 or 15 days to integrate a new software into Debian stable, not months or even years (the time between successive stable releases). I acknowledge that some packages have complex interdependencies between each others. For example, when a new release of the OCaml compiler is out, one needs to recompile all OCaml packages. But this constraint is only for OCaml packages. Why should I wait for a new stable version of Debian to get the newly released OCaml compiler? For me this sounds just plain wrong.</li> </ul> <ul> <li><strong>Nobody uses plain Debian stable</strong>. Debian developers are using unstable. Debian users are using Debian stable, but enriched with backports because of out-dated software. Or derivatives like Ubuntu. The fact the Debian developers are not using what they recommend to users is bogus. I know they do that for technical reasons, but that should not be a good reason. Debian developers should use what they are providing to their users, except maybe for a few packages they are working on.</li> </ul> <ul> <li><strong>There are too many dependencies between packages</strong>. The dependency system of Debian is a nice piece of work, it was ahead of its time when it was created. But the use of dependencies has been perverted. The dependencies are manually computed (thus source of errors and bugs) and at the same time any software can write to about any part of the file system. Due to too many dependencies and lack of clean interfaces between sub-systems, the installation of a recent user software can trigger a ton of packages down to a new kernel or libc. Why is it so? I think the sub-systems of Debian (e.g. the X graphical infrastructure, the kernel and base C libraries, the OCaml system, ...) should be isolated the one from the others. It would allow them to be updated without waiting for the others. Having dependencies between 29,000 packages is just not scalable. It is even more true if those dependencies are manually computed.</li> </ul> <ul> <li><strong>Debian packaging is lacking automation</strong>. I am a developer. Debian packagers are developers. It always astonished me how much manual work should be done to make and maintain a Debian package. All developers know that if they want to be efficient, they need to automate their work as much as possible, so as to be able to focus their manpower on the complex parts. Everything should be automated in Debian packages, starting from a minimal description file. Automation should be the default (package creation, test, static analysis, ...), not the exception.</li> </ul> <ul> <li><strong>One cannot install simultaneously several versions of the same software</strong>. As a user or developer, I want to use the stable version of a piece of software and maybe the latest stable version that just have been released in order to do a few tests or check that my software still compiles with the new shiny compiler. Debian does not allow me to do that. And if I install a newer package, downgrading to the previous version is complex and error prone.</li> </ul> <ul> <li><strong>Debian is undocumented</strong>. I am not talking about the installation guide which is nice, I am talking about the modifications made to software by Debian developers. Doing modification on the "standard" (for the software) way of configuring or using it has always seemed suspect to me, even if I agree that having harmonized configuration is a real advantage (all configuration files in /etc for example). But all of those modifications should be documented in README.Debian file. To take an example, the last time I tried to install the dokuwiki Debian package, I was unable to configure it! The way to add new users had been changed compared to a regular dokuwiki (the web interface was disabled), and those changes were undocumented. It should be a release critical bug! Without proper documentation, the user cannot use the software. And, of course, the reason behind those changes should be questioned, even for security reasons (a very secure but unusable software is superfluous. Security is a trade-off).</li> </ul> <p>So, why I am complaining? Why I do not become a Debian Developer, so I can fix it? Because a single developer is not going to change the root causes of those issues. They need a massive development effort, or at least a massive acknowledgement by the Debian Developers. And I don't have ready-made answers to those issues (even if I have some ideas to solve them).</p> <p>Is the grass greener in the other fields? I don't think so, or at least I am not aware of it. I like Debian for is community approach, its focus on Free Software (even if it is sometimes imperfect) and the wide range of software packaged in it (the OCaml packages are numerous for example). I just hope that the whole Debian community will focus on more user related issues in the future.</p><a onclick="switchContent('post6','post5')" class="btn" href="#4500c6dfee297759b237d6b0101e99f5">Hide</a></div></span>
<a name="6f1d80d96686f1248d18776ac85fb4cf"></a><span class="rss-header"><span class="rss-title"><a href="http://caml.inria.fr/cgi-bin/hump.cgi?contrib=818"> Stog 0.8.0</a></span>&nbsp;&mdash;&nbsp;<span class="rss-author">The Caml Humps</span>, <span class="rss-date">20 Mar 2013</span></span><span class="rss-description">Stog is a kind of Jekyll in OCaml: It is a static web site generator, able to handle blog posts as well as regular pages.</span>
<a name="c8d1b76670230be9d19c1105da03f9fa"></a><span class="rss-header"><span class="rss-title"><a href="http://caml.inria.fr/cgi-bin/hump.cgi?contrib=850"> OCamlRSS 2.1.0</a></span>&nbsp;&mdash;&nbsp;<span class="rss-author">The Caml Humps</span>, <span class="rss-date">20 Mar 2013</span></span><span class="rss-description">OCaml-RSS is an OCaml library providing functions to parse and print RSS 2.0 files.</span>
<a name="5d1decd418b678381c3b4cbe1970cabb"></a><span class="rss-header"><span class="rss-title"><a href="http://www.ocamlpro.com/blog/2013/03/18/monthly-03.html"> An Indentation Engine for OCaml</a></span>&nbsp;&mdash;&nbsp;<span class="rss-author"><span id="ocaml_1">OCamlPro &#9001;louis.gesbert<abbr title="(at) &rarr; @">(at)</abbr>ocamlpro.com (Louis Gesbert)&#9002;</span><script type="text/javascript"><!--;
local = "louis.gesbert";
h = "ocamlpro.com (Louis Gesbert)";
hq = "ocamlpro.com%20(Louis%20Gesbert)";
document.getElementById("ocaml_1").innerHTML = '<a href="mailto:' + local + '@' + hq + "\" >OCamlPro<\/a>";
//--></script></span>, <span class="rss-date">18 Mar 2013</span></span><span class="rss-description"><div id="post7"><p>Since our last <a href="http://www.ocamlpro.com/blog/2013/02/18/monthly-01-02.html">activity report</a> we have released the first stable versions of two projects: <a href="http://opam.ocamlpro.com">OPAM</a>, an installation manager for OCaml source packages, and <a href="https://github.com/OCamlPro/ocp-indent">ocp-indent</a>, an indentation tool.</p><p>We have already described the basics of OPAM in two precedent <a href="http://www.ocamlpro.com/blog/2013/01/17/opam-beta.html">blog</a> <a href="http://www.ocamlpro.com/blog/2013/01/17/opam-1.0.0.html">posts</a>, so today we will focus on the release of <code>ocp-indent</code>.</p><h2>Indentation should be consistent across editors</h2><a onclick="switchContent('post7','post8')" class="btn" href="#5d1decd418b678381c3b4cbe1970cabb">Read more...</a></div><div id="post8" style="display: none"><p>Since our last <a href="http://www.ocamlpro.com/blog/2013/02/18/monthly-01-02.html">activity report</a> we have released the first stable versions of two projects: <a href="http://opam.ocamlpro.com">OPAM</a>, an installation manager for OCaml source packages, and <a href="https://github.com/OCamlPro/ocp-indent">ocp-indent</a>, an indentation tool.</p><p>We have already described the basics of OPAM in two precedent <a href="http://www.ocamlpro.com/blog/2013/01/17/opam-beta.html">blog</a> <a href="http://www.ocamlpro.com/blog/2013/01/17/opam-1.0.0.html">posts</a>, so today we will focus on the release of <code>ocp-indent</code>.</p><h2>Indentation should be consistent across editors</h2><p>When you work on a very large code-base, it is crucial to keep a consistent indentation scheme. This is not only good for code review purposes (when the indentation carries semantic properties) but also when your code is starting to evolve and when the one who makes the change is not the one who wrote the initial piece of code. In the latter case, the variety of editors and local configurations usually leads to lot of small changes carrying no semantic value at all (such as changing tabs to spaces, adding few spaces at the beginning or end of lines, and so on). This semantic noise considerably decreases the efficiency of any code-review and change process and is usually very good at hiding hard-to-track bugs in your code-base.</p><p>A few months ago, the solutions for OCaml to this indentation problem were limited. For instance, you could write coding guidelines and hope that all the developers in your project would follow them. If you wanted to be more systematic, you could create and share a common configuration file for some popular editors (most OCaml developers use the emacs' <code>tuareg-mode</code> or vim) but it is very hard to get consistent indentation result across multiple tools. Moreover, having to rely on a specific editor mode means that it is harder to fully automatize the indentation process, for instance when setting-up a VCS hook.</p><p>In order to overcome these pitfalls, <a href="http://www.janestreet.com/">Jane Street</a> asked us to design a new external tool with the following high-level specification:</p><ul> <li> <p>it should be easy to use inside and outside any editor;</p> </li><li> <p>it should understand the OCaml semantics and reflect it in the indentation;</p> </li><li> <p>it should be easy to maintain and to extend;</p> </li> </ul><p>So we started to look at the OCaml tools' ecosystem and we found an early prototype of Jun Furuse's <a href="https://bitbucket.org/camlspotter">ocaml-indent</a>. The foundation looked great but the result on real-world code sources was not as nice as it could be, so we decided to start from this base to build our new tool, that we called <code>ocp-indent</code>. Today, <code>ocp-indent</code> and <code>ocaml-indent</code> do not have much code in common anymore, but the global architecture of the system remains the same.</p><h2>Writing an indentation engine for OCaml</h2><p>An indentation engine may seem like a rather simple problem: given any line in the program, we want to compute its indentation level, based on the code structure.</p><p>It turns out to be much more difficult than that, mainly because indentation is only marginally semantic, and, worse, is a matter of taste and "proper layout". In short, it's not a problem that can be expressed concisely, because one really does want lots of specific cases handled "nicely", depending on the on-screen layout -- position of line breaks -- rather than the semantic structure. <code>Ocp-indent</code> does contain lots of ad-hoc logic for such cases. To make things harder, the OCaml syntax is known to be difficult to handle, with a few ambiguities.</p><h3>Indent process</h3><p><code>Ocp-indent</code> processes code in a simple and efficient way:</p><ul> <li> <p>We lex the input with a <a href="https://github.com/OCamlPro/ocp-indent/blob/master/src/approx_lexer.mll">modified version of the OCaml lexer</a>, to guarantee complete consistency with OCaml itself. The parser had to be modified to be more robust (ocaml fails on errors, the indentation tool should not) and to keep tokens like comments, quotations, and, in the latest version, some ocamldoc block delimiters.</p> </li><li> <p>Taking the token stream as input, we maintain a <a href="https://github.com/OCamlPro/ocp-indent/blob/master/src/indentBlock.ml">"block" stack</a> that keeps informations like the kinds of blocks we have been through to get to the cursor position, the column and the indentation parameters. For instance, the "block" stack <code>[KBody KFfun; KLet; KBody KModule]</code> corresponds to the position of <code>X</code> in the following piece of (pseudo-) code:</p> </li> </ul><pre><code>... module Foo = struct ... let f = fun a -&gt; X </code></pre><ul> <li> <p>Each token may look up the stack to find its starting counterpart (<code>in</code> will look for <code>KLet</code>, etc.), or disambiguate (<code>=</code> will look for <code>KLet</code>, stopping on opening tokens like <code>KBracket</code>, and will be inserted as an operator if none is found). This is flexible enough to allow for "breaking" the stack when incorrect grammar is found. For example, the unclosed paren in <code>module let x = ( end</code> should not break indent after the <code>end</code>. Great care was taken in deciding what tokens should be able to remove from the stack in which conditions.</p> </li><li> <p>The stack can also be used to find a token that we want to align on, typically bars <code>|</code> in a pattern-matching.</p> </li><li> <p>On every line break, the stack can be used to compute the indentation of the next line.</p> </li><li> <p>In the case of partial file indentation (typically, reindenting one line or a single block), on lines that shouldn't be reindented the stack is reversely updated to adapt to the current indentation.</p> </li> </ul><h3>Priorities</h3><p>The part where some abstraction can be put into the engine is the knowledge of the semantics, and more precisely of the scope of the operations. It's also in that case that the indenter can help you write, and not only read, your code. On that matter, <code>ocp-indent</code> has a knowledge of the precedence of operators and constructs that is used to know how far to unwind the stack, and what to align on. For example, a <code>;</code> will flush function applications and most operators.</p><p>It is that part that gives it the most edge over <code>tuareg</code>, and avoids semantically incorrect indents. All infix operators are defined with a priority, a kind of indentation (indentation increment or alignment over the above concerned expression), and an indentation value (number of spaces to add). So for example most operators have a priority lower than function application, but not <code>.</code>, which yields correct results for:</p><pre><code>let f = somefun record. field y + z </code></pre><p>Boolean operators like <code>&amp;&amp;</code> and <code>||</code> are setup for alignment instead of indentation:</p><pre><code>let r = a || b &amp;&amp; c || d </code></pre><p>Additionally, some special operators are wanted with a <i>negative</i> alignment in some cases. This is also handled in a generic way by the engine. In particular, this is the case for <code>;</code> or <code>|</code>:</p><pre><code>type t = A | B let r = { f1 = x ; f2 = y } </code></pre><h3>A note on the integration in editors</h3><p><code>ocp-indent</code> can be used on the command-line to reindent whole files (or part of them with <code>--lines</code>), but the most common use of an indenter is from an editor. If you are lucky enough to be able to call OCaml code from your editor, you can use it directly as a library, but otherwise, the preferred way is to use the option <code>--numeric</code>: instead of reprinting the file reindented, it will only output indentation levels, which you can then process from your editor (for instance, using <code>indent-line-to</code> with emacs). That should be cheaper and will help preserve cursor position, etc.</p><p>Currently, a simple emacs binding working on either the ocaml or the tuareg mode is provided, together with a vim mode contributed by Raphaël Proust and David Powers.</p><h2>Results</h2><p>We've built <code>ocp-indent</code> based on a growing collection of <a href="https://github.com/OCamlPro/ocp-indent/tree/master/tests/passing">unit-tests</a>. If you find an indentation bug, feel free to <a href="https://github.com/OCamlPro/ocp-indent/issues">send us</a> a code snippet that we will incorporate into our test suite.</p><p>Our tests clearly show that the deep understanding that <code>ocp-indent</code> has of the OCaml syntax makes it shines on specific cases. We are still discussing and evaluating the implementation of few corner-cases related, see for instance the <a href="http://htmlpreview.github.com/?https://github.com/OCamlPro/ocp-indent/blob/master/tests/failing.html">currently failing tests</a>.</p><p>We have also run some <a href="http://htmlpreview.github.com/?https://github.com/AltGr/ocp-indent-tests/blob/master/status.html">benchmarks</a> on real code-bases and the result is quite conclusive: <code>ocp-indent</code> is always better than tuareg! This is a very nice result as most of the existing source files are either indented manually or are following tuareg standards. But <code>ocp-indent</code> is also orders of magnitude faster, which means you can integrate it seamlessly into any automatic process.</p><a onclick="switchContent('post8','post7')" class="btn" href="#5d1decd418b678381c3b4cbe1970cabb">Hide</a></div></span>
<a name="4dc81c1e1a3ae1c0cc9d8c57fae067dc"></a><span class="rss-header"><span class="rss-title"><a href="http://functional-orbitz.blogspot.com/2013/03/ann-riakc-000.html"> [ANN] Riakc 0.0.0</a></span>&nbsp;&mdash;&nbsp;<span class="rss-author"><span id="ocaml_2">Orbitz &#9001;noreply<abbr title="(at) &rarr; @">(at)</abbr>blogger.com (orbitz)&#9002;</span><script type="text/javascript"><!--;
local = "noreply";
h = "blogger.com (orbitz)";
hq = "blogger.com%20(orbitz)";
document.getElementById("ocaml_2").innerHTML = '<a href="mailto:' + local + '@' + hq + "\" >Orbitz<\/a>";
//--></script></span>, <span class="rss-date">17 Mar 2013</span></span><span class="rss-description"><div id="post9"><p><i>Note, since writing this post, Riakc 1.0.0 has already been released and merged into opam. It fixes the below issue of Links (there is a typo in the release notes, 'not' should be 'now'. The source code can be found <a href="https://github.com/orbitz/ocaml-riakc/tree/1.0.0">here</a>. The 1.0.0 version number does not imply any stability or completeness of the library, just that it is not backwards compatible with 0.0.0. </i></p> <p>Riakc is a Riak Protobuf client for Ocaml. Riakc uses Jane St Core/Async for concurrency. Riakc is in early development and so far supports a subset of the Riak API. The supported methods are: </p> <p></p><ul><li>ping</li><li>client_id</li><li>server_info</li><li>list_buckets</li><li>list_keys</li><li>bucket_props</li><li>get</li><li>put</li><li>delete</li></ul><p></p> <h2>A note on GET</h2><p>Links are currently dropped all together in the implementation, so if you read a value with links and write it back, you will have lost them. This will be fixed in the very near future. </p> <p>As with anything, please feel free to submit issues and pull requests. </p> <a onclick="switchContent('post9','post10')" class="btn" href="#4dc81c1e1a3ae1c0cc9d8c57fae067dc">Read more...</a></div><div id="post10" style="display: none"><p><i>Note, since writing this post, Riakc 1.0.0 has already been released and merged into opam. It fixes the below issue of Links (there is a typo in the release notes, 'not' should be 'now'. The source code can be found <a href="https://github.com/orbitz/ocaml-riakc/tree/1.0.0">here</a>. The 1.0.0 version number does not imply any stability or completeness of the library, just that it is not backwards compatible with 0.0.0. </i></p> <p>Riakc is a Riak Protobuf client for Ocaml. Riakc uses Jane St Core/Async for concurrency. Riakc is in early development and so far supports a subset of the Riak API. The supported methods are: </p> <p></p><ul><li>ping</li><li>client_id</li><li>server_info</li><li>list_buckets</li><li>list_keys</li><li>bucket_props</li><li>get</li><li>put</li><li>delete</li></ul><p></p> <h2>A note on GET</h2><p>Links are currently dropped all together in the implementation, so if you read a value with links and write it back, you will have lost them. This will be fixed in the very near future. </p> <p>As with anything, please feel free to submit issues and pull requests. </p> <p>The source code can be found <a href="https://github.com/orbitz/ocaml-riakc/tree/0.0.0">here</a>. Riakc is in opam and you can install it by doing <code>opam install riakc</code>. </p> <h1>Usage</h1><p>There are two API modules in Riakc. Examples of all existing API functions can be found <a href="https://github.com/orbitz/ocaml-riakc/tree/0.0.0/examples">here</a>. </p> <h2>Riakc.Conn</h2><p><code>Riakc.Conn</code> provides the API for performing actions on the database. The module interface can be read <a href="https://github.com/orbitz/ocaml-riakc/blob/0.0.0/lib/riakc/conn.mli">here</a>. </p> <h2>Riakc.Robj</h2><p><code>Riakc.Robj</code> provides the API for objects stored in Riak. The module interface can be read <a href="https://github.com/orbitz/ocaml-riakc/blob/0.0.0/lib/riakc/robj.mli">here</a>. <code>Riakc.Conn.get</code> returns a <code>Riakc.Robj.t</code> and <code>Riakc.Conn.put</code> takes one. <code>Robj.t</code> supports representing siblings, however <code>Riakc.Conn.put</code> cannot PUT objects with siblings, this is enforced using phantom types. A value of <code>Riakc.Robj.t</code> that might have siblings is converted to one that doesn't using <code>Riakc.Robj.set_content</code>. </p><a onclick="switchContent('post10','post9')" class="btn" href="#4dc81c1e1a3ae1c0cc9d8c57fae067dc">Hide</a></div></span>
<script type="text/javascript">function switchContent(id1,id2) {
     // Get the DOM reference
     var contentId1 = document.getElementById(id1);
     var contentId2 = document.getElementById(id2);
     // Toggle
     contentId1.style.display = "none";
     contentId2.style.display = "block";
     }</script></div>

  
    </div>

    
    <br/>
    <hr/>
    <div id="footer">
      Contribute to this project!
      Find us on <a href="https://github.com/ocaml/ocaml.org">Github</a>.
    </div>
    <span title=".././img/ = image directory from the base of the site"></span>


    
    
    

    <script src="http://platform.twitter.com/widgets.js" type="text/javascript"></script>
    <script src=".././js/jquery-1.8.0.min.js"></script>
    
    <script src=".././js/bootstrap.js"></script>

    <script type="text/javascript">
      var _gaq = _gaq || []; _gaq.push(['_setAccount', 'UA-22552764-2']); _gaq.push(['_trackPageview']);
      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>

    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-37808023-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();

    </script>

</body></html>
