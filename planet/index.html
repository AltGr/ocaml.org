<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="utf-8"/>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
    
    <meta content="IE=8" http-equiv="X-UA-Compatible"/>
    <title>OCaml :: OCaml Planet</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <meta content="Ashish Agarwal, Esther Baruk, Christophe Troestler and many contributors" name="author"/>
    <meta content="" name="description"/>
    <meta content="" name="keywords"/>
    <meta content="OCaml (Weberizer)" name="generator"/>

    <link href="https://static.ocamlcore.org/official/images/favicon.ico" rel="shortcut icon"/>
    <link rel="stylesheet" href=".././css/bootstrap.css"/>
    <link href=".././css/ocaml.css" media="all" type="text/css" rel="stylesheet"/>
    <link rel="stylesheet" href=".././css/bootstrap-responsive.css"/>

    
    

    <meta content="OCaml Planet" property="og:title"/>
    <meta content="non_profit" property="og:type"/>

    <meta content="all" name="robots"/>
  </head>
  <body>
    <div id="header">
      <div class="top">
      </div>
      <div class="bottom">
      </div>
    </div>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
	  
          <a data-target=".nav-collapse" data-toggle="collapse" class="btn btn-navbar">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a href=".././" class="brand">OCaml</a>

          <div class="nav-collapse">
            <ul class="nav">
	      <li class="dropdown">
  <a href="../#" class="dropdown-toggle" data-toggle="dropdown">
    Discover
    <b class="caret"></b>
  </a>
  <ul class="dropdown-menu">
    <li><a href="../description.html">What is OCaml?</a></li>
    <li><a href="http://try.ocamlpro.com/">Try it Online</a></li>
    <li><a href="../taste.html">100 Lines of OCaml</a></li>
    <li><a href="../success.html">Success Stories</a></li>
    <li><a href="../companies.html">Who Is Using It?</a></li>
    <li><a href="http://pleac.sourceforge.net/pleac_ocaml/">Pleac</a></li>
    <li><a href="http://rosettacode.org/wiki/Category:OCaml">Rosetta</a>
        <a href="http://langref.org/ocaml">langref.org</a></li>
  </ul>
</li>
<li class="dropdown">
  <a href="../#" class="dropdown-toggle" data-toggle="dropdown">
    Learn
    <b class="caret"></b></a>
  <ul class="dropdown-menu">
    <li><a href="../install.html">Install</a></li>
    <li><a href="../tutorials/">Tutorials</a></li>
    <li><a href="../faq.html">FAQ</a></li>
    <li><a href="../books.html">Books</a></li>
    <li><a href="../videos.html">Videos</a></li>
    <li><a href="../papers.html">Papers</a></li>
  </ul>
</li>
<li class="dropdown">
  <a href="../#" class="dropdown-toggle" data-toggle="dropdown">Use
    <b class="caret"></b></a>
  <ul class="dropdown-menu">
    <li><a href="../releases/">Releases</a></li>
    <li><a href="../libraries.html">Libraries</a></li>
    <li><a href="../dev_tools.html">Development Tools</a></li>
    <li><a href="../books.html#manual">User Manual</a></li>
    <li><a href="../cheat_sheets.html">Cheat Sheets</a></li>
    <li><a href="http://search.ocaml.jp/">OCaml API Search</a></li>
    <li><a href="http://forge.ocamlcore.org/">Forge</a></li>
    <li><a href="https://github.com/languages/OCaml">GitHub</a></li>
    <li><a href="https://bitbucket.org/repo/all?name=ocaml">Bitbucket</a></li>
  </ul>
</li>
<li class="dropdown">
  <a href="../#" class="dropdown-toggle" data-toggle="dropdown">Community
    <b class="caret"></b></a>
  <ul class="dropdown-menu">
    <li><a href="../mailing_lists.html">Mailing Lists</a></li>
    <li><a href="../planet/">Blogs</a></li>
    <li><a href="../meetings.html">Meetings</a></li>
    <li><a href="irc://irc.freenode.net/ocaml">IRC</a></li>
    <li><a href="http://stackoverflow.com/questions/tagged?tagnames=ocaml">Stack Overflow</a></li>
    <li><a href="http://www.reddit.com/r/ocaml/">Reddit</a></li>
    <li><a href="../support.html">Commercial Support</a></li>
  </ul>
</li>
<li class="dropdown">
  <a href="../#" class="dropdown-toggle" data-toggle="dropdown">More
    <b class="caret"></b></a>
  <ul class="dropdown-menu">
    <li><a href="http://caml.inria.fr/mantis/">Mantis Bug Tracker</a></li>
    <li><a href="../caml-light/">Caml Light</a></li>
    <li><a href="../logos.html">Logos</a></li>
  </ul>
</li>

            </ul>
	    <form action="http://www.google.com/search" method="get" class="navbar-search pull-right">
	      <input placeholder="Search" class="search-query" name="q" type="text"/>
	      <input value="site:http://www.ocaml.org/" name="q" type="hidden"/>
	    </form>
            
	    
          </div>
        </div>
      </div>
    </div>

    <div class="container">
      <span class="navigation-bar">
	<a href="./../">Home</a><span class="separation"><img src=".././img/right_arrow.png" alt="&gt;"/></span>OCaml Planet
	<span id="language">
	  <span class="horizontal-toolbar"><span class="open-bracket">[</span><span class="current-url">En</span><span class="close-bracket">]</span></span>
	</span>
      </span>

      

    <h1>OCaml Planet</h1>

    <p>The OCaml Planet aggregates various blogs from the OCaml
    community.  It is kindly provided
    by <a href="http://www.ocamlcore.com/">OCamlCore</a>.  If you
    would like to be added, read
    the <a href="http://www.ocamlcore.org/planet/">Planet
    subscription HOWTO</a>.</p>

    <br/>
    <div style="float: right; margin-right: 0; margin-top: 0" class="span2 planet-subscriptions"><em>Subscriptions</em>
      <ul><li><a href="http://alexleighton.tumblr.com/tagged/ocaml/rss">Alex Leighton</a></li><li><a href="http://feeds.feedburner.com/amirmc-ocaml">Amir Chaudhry</a></li><li><a href="http://andreiformiga.com/blog/?cat=5&feed=rss2">Andrei Formiga</a></li><li><a href="http://math.andrej.com/feed/">Andrej Bauer</a></li><li><a href="http://anil.recoil.org/feeds/atom.xml">Anil Madhavapeddy</a></li><li><a href="http://ashishagarwal.org/tag/ocaml/feed/">Ashish Agarwal</a></li><li><a href="http://www.blogger.com/feeds/7617521785419311079/posts/default">Cameleon news</a></li><li><a href="http://caml.inria.fr/news.en.rss">Caml INRIA</a></li><li><a href="http://camlspotter.blogspot.com/feeds/posts/default?alt=rss">Caml Spotting</a></li><li><a href="http://alan.petitepomme.net/cwn/cwn.rss">Caml Weekly News</a></li><li><a href="http://coherentpdf.com/blog/?tag=ocaml&feed=rss">Coherent Graphics</a></li><li><a href="http://coq.inria.fr/news/feed">Coq</a></li><li><a href="http://erratique.ch/feeds/news.atom">Daniel Bünzli</a></li><li><a href="http://nleyten.com:82/feed/tag/ocaml/atom">Dario Teixeira</a></li><li><a href="http://www.blogger.com/feeds/17133288/posts/default/-/ocaml">David Baelde</a></li><li><a href="http://bentobako.org/david/blog/index.php?feed/tag/ocaml/atom">David Mentré</a></li><li><a href="http://dutherenverseauborddelatable.wordpress.com/category/ocaml/feed/">David Teller</a></li><li><a href="http://www.examachine.net/blog/cat/ocaml/feed/">Eray Özkural</a></li><li><a href="http://www.mega-nerd.com/erikd/Blog/index.rss20">Erik de Castro Lopo</a></li><li><a href="http://blog.emillon.org/feeds/ocaml.xml">Etienne Millon</a></li><li><a href="http://www.blogger.com/feeds/8964007124326996693/posts/default/-/ocaml">Fayssal Martani</a></li><li><a href="http://frama-c.com/rss.xml">Frama-C</a></li><li><a href="http://functionaljobs.com/jobs/search/?q=ocaml&format=rss">Functional Jobs</a></li><li><a href="http://gallium.inria.fr/blog/index.rss">GaGallium</a></li><li><a href="http://gaiustech.wordpress.com/category/ocaml/feed/">Gaius Hammond</a></li><li><a href="http://blog.camlcity.org/blog/rss">Gerd Stolpmann</a></li><li><a href="http://www.wisdomandwonder.com/tag/OCaml/feed">Grant Rettke</a></li><li><a href="http://hongboz.wordpress.com/feed/">Hong bo Zhang</a></li><li><a href="http://blog.incubaid.com/tag/ocaml/feed/">Incubaid Research</a></li><li><a href="http://ambassadortothecomputers.blogspot.com/feeds/posts/default?alt=rss">Jake Donham</a></li><li><a href="http://scattered-thoughts.net/atom.xml">Jamie Brandon</a></li><li><a href="https://ocaml.janestreet.com/?q=rss.xml">Jane Street</a></li><li><a href="http://lpw25.net/rss.xml">Leo White</a></li><li><a href="http://www.lexifi.com/blogs/ocaml/feed">LexiFi</a></li><li><a href="http://newblog.0branch.com/rss.xml">Marc Simpson</a></li><li><a href="http://syntaxexclamation.wordpress.com/tag/ocaml/feed/">Matthias Puech</a></li><li><a href="http://www.blogger.com/feeds/5888658295182480819/posts/default">Matías Giovannini</a></li><li><a href="http://www.elehack.net/michael/blog/tags/ocaml?format=rss">Michael Ekstrand</a></li><li><a href="">Mihamina Rakotomandimby</a></li><li><a href="http://mcclurmc.wordpress.com/feed/">Mike McClurg</a></li><li><a href="http://nyc-ocaml.posterous.com/rss.xml">NYC OCaml</a></li><li><a href="http://forge.ocamlcore.org/export/rss_sfnews.php">OCamlCore Forge News</a></li><li><a href="http://forge.ocamlcore.org/export/rss_sfprojects.php">OCamlCore Forge Projects</a></li><li><a href="http://www.ocamlcore.com/wp/?feed=rss2&amp;language=en&#038;language=en">OCamlCore.com</a></li><li><a href="http://www.ocamlpro.com/feed/atom.xml">OCamlPro</a></li><li><a href="http://odns.tuxfamily.org/feed/">ODNS project</a></li><li><a href="http://ox.tuxfamily.org/feed/">Ocaml XMPP project</a></li><li><a href="http://ocsigen.org/news.atom">Ocsigen project</a></li><li><a href="http://www.blogger.com/feeds/2073503406800427577/posts/default">Opa</a></li><li><a href="http://www.openmirage.org/blog/atom.xml">Open Mirage</a></li><li><a href="http://functional-orbitz.blogspot.com/feeds/posts/default/-/planetocaml?alt=rss">Orbitz</a></li><li><a href="http://www.donadeo.net/facets/programming-languages/objective-caml/feed/">Paolo Donadeo</a></li><li><a href="https://mancoosi.org/~abate/taxonomy/term/5/0/feed">Pietro Abate</a></li><li><a href="http://rwmj.wordpress.com/tag/ocaml/feed/">Richard Jones</a></li><li><a href="http://blog.rastageeks.org/spip.php?page=rss&id_mot=2">Romain Beauxis</a></li><li><a href="http://seb.mondet.org/blog/feed/ocaml.rss">Sebastien Mondet</a></li><li><a href="http://upsilon.cc/~zack/tags/ocaml/index.rss">Stefano Zacchiroli</a></li><li><a href="http://le-gall.net/sylvain+violaine/blog/index.php?feed/tag/ocaml/atom">Sylvain Le Gall</a></li><li><a href="http://caml.inria.fr/hump.rss">The Caml Humps</a></li><li><a href="http://www.blogger.com/feeds/6115529230232389198/posts/default">Till Varoquaux</a></li><li><a href="http://y-node.com/blog/feeds/latest/">y-node</a></li></ul>

      <a href="http://planet.ocaml.org/rss20.xml"><img src=".././img/rss20.png"/></a>
      <a href="http://planet.ocaml.org/opml.xml"><img src=".././img/opml.png"/></a>
    </div>
    <div class="planet"><a name="0161cc1ac1b9008738fcbface18e73d0"></a><span class="rss-header"><span class="rss-title"><a href="http://gallium.inria.fr/blog/ocaml-on-a-nexus-7"> OCaml on a Nexus 7</a></span>&nbsp;&mdash;&nbsp;<span class="rss-author">GaGallium</span>, <span class="rss-date">05 Apr 2013</span></span><span class="rss-description"><div id="post1"><p>For my 25th birthday, my (awesome) friends offered me a new gadget, a Nexus 7 tablet. Of course, my first impulse was to install Debian on it. That seemed a little bit excessive; I tried to be reasonable, and decided to first try to run OCaml programs <strong>on</strong> the tablet.</p> <p>I successfully managed to set up Unison on the tablet, and used it to synchronize documents between the tablet and my home computer. At the end of this blog post, hopefully you'll be able to do the same!</p> <p>These notes explain how to set up a development environment so that one can run native OCaml programs, cross-compiled to ARM, on an Nexus 7 tablet. I include quick instructions on how to root a Nexus 7 tablet, mostly because I took notes as I was doing the procedure. As some other members of Gallium are set to acquire a similar tablet soon (<a href="http://gallium.inria.fr/~maranget/">Luc</a> I'm looking at you), I thought it would be helpful to write down the procedure<sup><a href="http://gallium.inria.fr/blog/index.rss#fn1" id="fnref1" class="footnoteRef">1</a></sup>.</p> <h3 id="rooting-your-nexus-7-tablet">Rooting your Nexus 7 tablet</h3> <a onclick="switchContent('post1','post2')" class="btn" href="#0161cc1ac1b9008738fcbface18e73d0">Read more...</a></div><div id="post2" style="display: none"><p>For my 25th birthday, my (awesome) friends offered me a new gadget, a Nexus 7 tablet. Of course, my first impulse was to install Debian on it. That seemed a little bit excessive; I tried to be reasonable, and decided to first try to run OCaml programs <strong>on</strong> the tablet.</p> <p>I successfully managed to set up Unison on the tablet, and used it to synchronize documents between the tablet and my home computer. At the end of this blog post, hopefully you'll be able to do the same!</p> <p>These notes explain how to set up a development environment so that one can run native OCaml programs, cross-compiled to ARM, on an Nexus 7 tablet. I include quick instructions on how to root a Nexus 7 tablet, mostly because I took notes as I was doing the procedure. As some other members of Gallium are set to acquire a similar tablet soon (<a href="http://gallium.inria.fr/~maranget/">Luc</a> I'm looking at you), I thought it would be helpful to write down the procedure<sup><a href="http://gallium.inria.fr/blog/index.rss#fn1" id="fnref1" class="footnoteRef">1</a></sup>.</p> <h3 id="rooting-your-nexus-7-tablet">Rooting your Nexus 7 tablet</h3> <p>I now give brief instructions on how to root a tablet; this was required in my case, as I couldn't even perform a <code>chmod</code> on my OCaml programs to make them executable! This is actually the most complicated part. After that, setting up an OCaml cross-compiling environment is really easy.</p> <h4 id="oem-unlocking">OEM Unlocking</h4> <p>The "OEM Unlock" step is required before doing any sort of serious hacking with the device. This unfortunately erases all user data; but if you have chosen to sync your installed apps, after a reboot, there shouldn't be too much stuff left to configure. Plug your device to the computer, unlock the device's screen, enable "debugging" in the device's options if not done already, then, on the computer, run:</p> <pre class="sh"><code>sudo apt-get install android-tools-{adb,fastboot} adb reboot bootloader fastboot oem unlock</code></pre> <p>Please note that the tablet will ask you to confirm your computer's RSA key the first time you use adb, so you will need to press a button on the tablet's screen.</p> <h4 id="becoming-root-on-the-device">Becoming root on the device</h4> <p>The OEM unlock step does very little: it just allows you to move on to the next step: becoming root. Being root means being able to access /data/local/, put stuff in it, perform the actuals <code>chmod</code>, etc.</p> <p>There are extra steps required to become root on the device. Several guides are available, but as usual when it comes to Android hacking, the <a href="http://forum.xda-developers.com/showthread.php?t=1741395">XDA Forums</a> contain the best source of information.</p> <p>The procedure consists in installing a custom "recovery mod"; i.e. a small program that we can run before the actual operating system boots up. The whole point of it is that it has enough rights on the device so as to write anywhere; in particular, it can unzip into the sytem a "su" program that is able to make you root on the device.</p> <p>Download the latest "Clockwork Mod Recovery" from <a href="http://www.clockworkmod.com/rommanager">the website</a>. Also download the latest ZIP version of <a href="http://forum.xda-developers.com/showthread.php?t=1538053">SuperSU</a> (search for <code>.zip</code> in the forum post). Then, on your computer, with the device still connected:</p> <pre class="sh"><code>adb push UPDATE-SuperSU-v1.25.zip /sdcard/ adb reboot bootloader fastboot flash recovery recovery-clockwork-6.0.2.3-grouper.img</code></pre> <p>These steps send the to-be-installed "su" program onto the device; they reboot the tablet into the "bootloader" mode. The <code>fastboot flash</code> command will write the infamous "recovery mode". Once the device is flashed, use the volume keys and the power button to switch into the said recovery mode.</p> <p>At this stage, the only step left is installing the "su" program. This can be achieved using the volume keys and the power button, again. Select "flash ZIP from SDCard", navigate, and pick the SuperSU ZIP file you previously uploaded to the device. Reboot. Voilà, you're done.</p> <h3 id="setting-up-a-nice-little-home">Setting up a nice little home</h3> <p>After your device has rebooted, if you run <code>adb shell</code>, followed by <code>su</code>, you will gain root access to the device. You can make a little home in <code>/data/local/</code>, creating <code>bin</code> and <code>home</code> directories.</p> <pre><code>adb shell su # device will prompt you the first time for confirmation cd /data/local/ mkdir bin mkdir home</code></pre> <h3 id="setting-up-the-ocaml-cross-compiler">Setting up the OCaml cross-compiler</h3> <p>That is actually the easiest part! Jérôme Vouillon has set up an extra opam repository <sup><a href="http://gallium.inria.fr/blog/index.rss#fn2" id="fnref2" class="footnoteRef">2</a></sup>. The repository contains a README file that explains it all. For me, it was as simple as typing in my shell:</p> <pre class="sh"><code>opam repo add android https://github.com/vouillon/opam-android-repository.git opam update opam install ocaml-android</code></pre> <h4 id="sample-program-unison">Sample program: unison</h4> <p>The reason why I wanted to do all this was to run the excellent <code>unison</code> on my tablet, to easily synchronize music and movies. There are other programs that seem to perform a similar task, but they are either not available for Linux, or use a cloud-storage system that seems overkill / makes me uneasy.</p> <p>The good news is, you can use OPAM to easily cross-compile unison.</p> <pre class="sh"><code>opam install android-unison</code></pre> <p>I was then able to copy on my device the unison binary (which, fortunately, has zero external dependencies).</p> <pre class="sh"><code>adb push `opam config var prefix`/arm-linux-androideabi/bin/unison /data/local/bin</code></pre> <p>After that, I can open up a shell and check that unison actually works:</p> <pre class="sh"><code>adb shell # this opens up a shell on the device su cd /data/local/bin export PATH=$(pwd):$PATH export HOME=/data/local/home unison --help</code></pre> <p>To make sure we won't have to perform these extra steps in the future, let's put unison in <code>/system/xbin</code> where it will be available for everyone to run.</p> <pre class="sh"><code>adb shell # this opens up a shell on the device su mount -o remount,rw /system cp /data/local/bin/unison /system/xbin/ mount -o remount,ro /system</code></pre> <p>You can then install an SSH server on your tablet (e.g. DropBear SSH), and use unison as usual.</p> <p>Please note that if you want to run the unison command from an adb shell, remember to set the <code>HOME</code> environment variable to a suitable location, i.e. one where you can write. This is done in the sample commands above. You don't have to worry about that when ssh'ing onto the device, as the SSH server will take care of setting a proper <code>HOME</code> variable.</p> <h4 id="compile-other-programs">Compile other programs</h4> <p>The compiler is called <code>arm-linux-androideabi-ocamlopt</code>. Go ahead and play with it!</p> <h3 id="thanks-and-acknowledgements">Thanks and acknowledgements</h3> <p>The repository of Jérôme Vouillon was tremendously helpful; without it, it would've been probably much longer to set up a development environment.</p> <div class="footnotes"> <hr/> <ol> <li id="fn1"><p>Other excellent rooting guides exist on the internet, and most require installing a "toolkit"; using a ready-made program is no fun, so I made sure I was performing all the steps myself.<a href="http://gallium.inria.fr/blog/index.rss#fnref1">↩</a></p></li> <li id="fn2"><p><a href="https://github.com/vouillon/opam-android-repository">https://github.com/vouillon/opam-android-repository</a><a href="http://gallium.inria.fr/blog/index.rss#fnref2">↩</a></p></li> </ol> </div><a onclick="switchContent('post2','post1')" class="btn" href="#0161cc1ac1b9008738fcbface18e73d0">Hide</a></div></span>
<a name="fff370dad334a3cea6ff81e4b3b0dff5"></a><span class="rss-header"><span class="rss-title"><a href="http://le-gall.net/sylvain+violaine/blog/index.php?post/2013/04/01/Sekred-a-password-helper-for-puppet."> Sekred a password helper for puppet.</a></span>&nbsp;&mdash;&nbsp;<span class="rss-author">Sylvain Le Gall</span>, <span class="rss-date">03 Apr 2013</span></span><span class="rss-description"><div id="post3"><p>Puppet is a nice tool but it has a significant problem with passwords:</p> <ul> <li>it is recommended to store puppet manifests (*.pp) and related files in a VCS (i.e. git)</li> <li>it is not recommended to store password in a VCS</li> </ul> <p>This lead to complex situation and various workaround that more or less work:</p> <ul> <li>serve password in a separate file/DB or do an <em>extlookup</em> on the master (pre-set passwords)</li> <li>store password on the server and get them through a <em>generate</em> function (random password but on the master)</li> </ul> <p>Most of these workarounds are complex, don't allow you to share the password you have set easily and most of the time are stored in another place than the target node.</p> <p>So I have decided to create my own solution: <strong><a href="http://forge.ocamlcore.org/projects/sekred/">sekred</a></strong> (LGPL-2.1).</p> <p>The idea of sekred is to generate the password on the target node and made it available to the user that needs it. Then the user just have to <em>ssh</em> into the host and get the password.</p> <p>Pro:</p> <a onclick="switchContent('post3','post4')" class="btn" href="#fff370dad334a3cea6ff81e4b3b0dff5">Read more...</a></div><div id="post4" style="display: none"><p>Puppet is a nice tool but it has a significant problem with passwords:</p> <ul> <li>it is recommended to store puppet manifests (*.pp) and related files in a VCS (i.e. git)</li> <li>it is not recommended to store password in a VCS</li> </ul> <p>This lead to complex situation and various workaround that more or less work:</p> <ul> <li>serve password in a separate file/DB or do an <em>extlookup</em> on the master (pre-set passwords)</li> <li>store password on the server and get them through a <em>generate</em> function (random password but on the master)</li> </ul> <p>Most of these workarounds are complex, don't allow you to share the password you have set easily and most of the time are stored in another place than the target node.</p> <p>So I have decided to create my own solution: <strong><a href="http://forge.ocamlcore.org/projects/sekred/">sekred</a></strong> (LGPL-2.1).</p> <p>The idea of sekred is to generate the password on the target node and made it available to the user that needs it. Then the user just have to <em>ssh</em> into the host and get the password.</p> <p>Pro:</p> <ul> <li>the password is generated and stored on the node</li> <li>no VCS commit of your password</li> <li>no DB storage of your password beside the local filesystem of the host</li> <li>no need to use a common pre-set password for all you host, the password is randomly generated for only one host</li> <li>to steal the password you need to crack the host first but if you have root access on the host, accessing a random generated password is pointless</li> </ul> <p>Cons:</p> <ul> <li>the password is stored in clear text</li> <li>the password is only protected by the filesystem ACL</li> </ul> <p>Let see some concrete examples.</p> <h2>Setting mysql root password</h2> <p>This is a very simple problem. When you first install mysql on Debian Squeeze, the root password is not set. That's bad. Let set it using sekred and puppet.</p> <pre>node "mysqlserver" { package { ["mysql-server", "mysql-client", "sekred"]: ensure =&gt; installed; } service { "mysqld": name =&gt; "mysql", ensure =&gt; running, hasrestart =&gt; true, hasstatus =&gt; true; } exec { "mysql-set-root-password": command =&gt; "mysqladmin -u root password $(sekred get root@mysql)", onlyif =&gt; "mysql -u root", # Trigger only if password-less root account. require =&gt; [Service["mysqld"], Package["mysql-client", "sekred"]]; } } </pre> <p>And to get the root password for mysql, just login into the node "mysqlserver":</p> <pre>$&gt; sekred get root@mysql Cie8ieza </pre> <h2>Setting password for SSH-only user</h2> <p>This example is quite typical of the broken fully automated scenario with passwords: - you setup a remote host only accessible through SSH - you create a user and set its SSH public key to authorize access - your user <strong>cannot</strong> access its account because SSH prevent password-less account login!</p> <p>In other word, you need to login into the node, set a password for the user and mail him back.... That defeats a little bit the "automation" provided by puppet.</p> <p>Here is what I do with sekred:</p> <pre>define user::template () { user { $name: ensure =&gt; present, membership =&gt; minimum, shell =&gt; "/bin/bash", .... } include "ssh_keys::$name" # Check password less account and set one, if required. $user_passwd="$(sekred get --uid $name $name@login)" exec { "user-set-default-password-$name": command =&gt; "echo $name:$user_passwd | chpasswd", onlyif =&gt; "test \"$(getent shadow $name | cut -f2 -d:)\" = \"!\"", require =&gt; [User[$name], Package["sekred"]]; } } </pre> <p>So the command <em>"test \"$(getent shadow $name | cut -f2 -d:)\" = \"!\""</em> test for a password-less account. If this is the case, it creates a password using <em>sekred get --uid $name $name@login</em> and set it through <em>chpasswd</em>.</p> <p>Note that <em>$user_passwd</em> use a shell expansion that will be evaluated when running the command only, on the host. The <em>--uid</em> flag of sekred assign the ownership of the password to the given user id.</p> <p>So now the user (foo) can login into the node and retrieve its password using <em>sekred get foo@login</em>.</p> <h2>Try it!</h2> <p>Sekred was a very short project but I am pretty happy with it. It solves a long standing problem and helps to cover an extra mile of automation when setting up new nodes.</p> <p>The homepage is <a href="http://forge.ocamlcore.org/projects/sekred/" title="here">here</a> and you can download it <a href="http://forge.ocamlcore.org/frs/?group_id=331" title="here">here</a>. Feel free to send patches, bugs and feature requests (<a href="http://forge.ocamlcore.org/tracker/?group_id=331">here, login required</a>).</p><a onclick="switchContent('post4','post3')" class="btn" href="#fff370dad334a3cea6ff81e4b3b0dff5">Hide</a></div></span>
<a name="780ffca325d5d4cec077fcc203989b1a"></a><span class="rss-header"><span class="rss-title"><a href="https://ocaml.janestreet.com/?q=node/113"> Hackerschool tutorial at Jane Street</a></span>&nbsp;&mdash;&nbsp;<span class="rss-author">Jane Street</span>, <span class="rss-date">03 Apr 2013</span></span><span class="rss-description"><div id="post5"><p><a href="https://ocaml.janestreet.com/sites/default/files/hacker-school-1.jpeg"><br/> <img src="https://ocaml.janestreet.com/sites/default/files/hacker-school-1.jpeg" align="left" style="margin-right: 10px;" width="300"/></a></p> <p>We just had a really fun tutorial on OCaml, Core and Async for about 20 people from the current <a href="https://www.hackerschool.com/">Hacker School</a> batch. The tutorial was in part based on an early cut of <a href="http://realworldocaml.org">Real World OCaml</a>, and in part based on the examples in the <a href="https://bitbucket.org/yminsky/core-hello-world">Core Hello World</a> repo that has a few examples of Core and Async in action.</p> <p>A few weeks ago, we gave out a small, early snapshot of the first few chapters of RWO, and some instructions for installing <a href="http://opam.ocamlpro.com">OPAM</a> so you could get the appropriate versions of OCaml, Core and Async installed, in the hopes of getting people prepared for the tutorial. A few people also started working on the <a href="http://ocaml.org/tutorials/99problems.html">99 problems in OCaml</a> from the <a href="http://ocaml.org">ocaml.org</a> website.</p> <p><a href="https://ocaml.janestreet.com/sites/default/files/hacker-school-2.jpeg"> <img src="https://ocaml.janestreet.com/sites/default/files/hacker-school-2.jpeg" align="right" style="margin-left: 10px;" width="300"/></a></p> <p>The tutorial itself lasted about 4 1/2 hours, and we covered a lot of territory in a short period of time. I'm sure everyone didn't fully understand everything, but enough good questions were asked that I think people were getting the basic ideas.</p> <p>In any case, it was a blast from our perspective, and I hope we can do it again.</p> <a onclick="switchContent('post5','post6')" class="btn" href="#780ffca325d5d4cec077fcc203989b1a">Read more...</a></div><div id="post6" style="display: none"><p><a href="https://ocaml.janestreet.com/sites/default/files/hacker-school-1.jpeg"><br/> <img src="https://ocaml.janestreet.com/sites/default/files/hacker-school-1.jpeg" align="left" style="margin-right: 10px;" width="300"/></a></p> <p>We just had a really fun tutorial on OCaml, Core and Async for about 20 people from the current <a href="https://www.hackerschool.com/">Hacker School</a> batch. The tutorial was in part based on an early cut of <a href="http://realworldocaml.org">Real World OCaml</a>, and in part based on the examples in the <a href="https://bitbucket.org/yminsky/core-hello-world">Core Hello World</a> repo that has a few examples of Core and Async in action.</p> <p>A few weeks ago, we gave out a small, early snapshot of the first few chapters of RWO, and some instructions for installing <a href="http://opam.ocamlpro.com">OPAM</a> so you could get the appropriate versions of OCaml, Core and Async installed, in the hopes of getting people prepared for the tutorial. A few people also started working on the <a href="http://ocaml.org/tutorials/99problems.html">99 problems in OCaml</a> from the <a href="http://ocaml.org">ocaml.org</a> website.</p> <p><a href="https://ocaml.janestreet.com/sites/default/files/hacker-school-2.jpeg"> <img src="https://ocaml.janestreet.com/sites/default/files/hacker-school-2.jpeg" align="right" style="margin-left: 10px;" width="300"/></a></p> <p>The tutorial itself lasted about 4 1/2 hours, and we covered a lot of territory in a short period of time. I'm sure everyone didn't fully understand everything, but enough good questions were asked that I think people were getting the basic ideas.</p> <p>In any case, it was a blast from our perspective, and I hope we can do it again.</p> <h2 id="pretty code">"...you can write really pretty OCaml code..."</h2> <p>I got a bunch of feedback from the Hacker School folk, including the following from Alan O'Donnel, one of the staff members.</p> <blockquote><p>I think the most eye-opening part of the seminar was seeing Command; it made me realize two things: one, you can write really pretty OCaml code, and two, you guys write really pretty OCaml code! My (totally unfounded) image of OCaml (the language plus ecosystem) was something like a mix of Haskell and Erlang--some nice type stuff, but kind of ugly looking and with kind of yucky libraries. I was genuinely surprised that the Core and Async code we looked at was so pretty; it feels really well-designed and elegant, and it makes me want to write OCaml code.</p> </blockquote> <p>Maybe we need to write a blog-post on how to use Command...</p><a onclick="switchContent('post6','post5')" class="btn" href="#780ffca325d5d4cec077fcc203989b1a">Hide</a></div></span>
<a name="fb772ae510826cb579702890f0ae1ddb"></a><span class="rss-header"><span class="rss-title"><a href="https://forge.ocamlcore.org/forum/forum.php?forum_id=872"> ocaml-extunix 0.0.6 released</a></span>&nbsp;&mdash;&nbsp;<span class="rss-author">OCamlCore Forge News</span>, <span class="rss-date">02 Apr 2013</span></span><span class="rss-description"><pre class="rss-text">Except for backwards-incompatible change in fstatat, this is a regular update, with a couple of new bindings. ExtUnix is a collection of thin wrappers for various low-level system api not covered by Unix module.</pre></span>
<a name="7ad792afcd849bda372ce2b438fafbdc"></a><span class="rss-header"><span class="rss-title"><a href="http://alan.petitepomme.net/cwn/2013.04.02.html"> Caml Weekly News, 02 Apr 2013</a></span>&nbsp;&mdash;&nbsp;<span class="rss-author">Caml Weekly News</span>, <span class="rss-date">02 Apr 2013</span></span><span class="rss-description">Yypkg mingw-builds 1.2b1 - 70 Windows 32/64 packages, OCaml cross-compiler / Master-slave architecture behind an ocsigen server.</span>
<a name="a6ceaf8396d08d2bc09ea2097e98f50c"></a><span class="rss-header"><span class="rss-title"><a href="http://www.ocamlpro.com/blog/2013/04/02/wxocaml-reloaded.html"> wxOCaml, camlidl and Class Modules</a></span>&nbsp;&mdash;&nbsp;<span class="rss-author"><span id="ocaml_1">OCamlPro &#9001;fabricel<abbr title="(at) &rarr; @">(at)</abbr>ocamlpro.com (Fabrice Le Fessant)&#9002;</span><script type="text/javascript"><!--;
local = "fabricel";
h = "ocamlpro.com (Fabrice Le Fessant)";
hq = "ocamlpro.com%20(Fabrice%20Le%20Fessant)";
document.getElementById("ocaml_1").innerHTML = '<a href="mailto:' + local + '@' + hq + "\" >OCamlPro<\/a>";
//--></script></span>, <span class="rss-date">02 Apr 2013</span></span><span class="rss-description"><div id="post7"><p>Last week, I was bored doing some paperwork, so I decided to hack a little to relieve my mind...</p><h2>Looking for a GUI Framework for OCaml Beginners</h2><p>Some time ago, at OCamlPro, we had discussed the fact that OCaml was lacking more GUI frameworks. Lablgtk is powerful, but I don't like it (and I expect that some other people in the OCaml community share my opinion) for several reasons:</p><ul> <li> <p>LablGTK makes an extensive use of objects, labels and polymorphic variants. Although using these advanced features of OCaml can help expert OCaml developers, it makes LablGTK hard to use for beginners... and a good reason to have better GUIs is actually to attract beginners!</p> </li><li> <p>GTK does not look native under Windows and Mac OS X, giving an outdated feeling about interfaces written with it.</p> </li> </ul><a onclick="switchContent('post7','post8')" class="btn" href="#a6ceaf8396d08d2bc09ea2097e98f50c">Read more...</a></div><div id="post8" style="display: none"><p>Last week, I was bored doing some paperwork, so I decided to hack a little to relieve my mind...</p><h2>Looking for a GUI Framework for OCaml Beginners</h2><p>Some time ago, at OCamlPro, we had discussed the fact that OCaml was lacking more GUI frameworks. Lablgtk is powerful, but I don't like it (and I expect that some other people in the OCaml community share my opinion) for several reasons:</p><ul> <li> <p>LablGTK makes an extensive use of objects, labels and polymorphic variants. Although using these advanced features of OCaml can help expert OCaml developers, it makes LablGTK hard to use for beginners... and a good reason to have better GUIs is actually to attract beginners!</p> </li><li> <p>GTK does not look native under Windows and Mac OS X, giving an outdated feeling about interfaces written with it.</p> </li> </ul><p>Now, the question was, which GUI framework to support for OCaml ? A long time ago, I had heard that <a href="http://www.wxwidgets.org/">wxWidgets</a> (formerly wxWindows) had contributed to the popularity of Python at some point, and I remembered that there was a binding called <a href="http://plus.kaist.ac.kr/~shoh/ocaml/wxcaml/doc/">wxCaml</a> that had been started by SooHyoung Oh a few years ago. I had managed to compile it a two years ago, but not to make the examples work, so I decided it was worth another try.</p><h2>From wxEiffel to wxCaml, through wxHaskell</h2><p>wxCaml is based on <a href="http://www.haskell.org/haskellwiki/WxHaskell">wxHaskell</a>, itself based on <a href="http://elj.sourceforge.net/projects/gui/ewxw/">wxEiffel</a>, a binding for wxWidgets done for the Eiffel programming language. Since wxWidgets is written in C++, and most high-level programming languages only support bindings to C functions, the wxEiffel developers wrote a first binding from C++ to C, called the <a href="https://github.com/OCamlPro/wxOCaml/tree/master/elj">ELJ library</a>: for each class wxCLASS of wxWidgets, and for each method Method of that class, they wrote a function wxCLASS_Method, that takes the object as first argument, the other arguments of the method, and then call the method on the first argument, with the other arguments. For example, the code for the <a href="https://github.com/OCamlPro/wxOCaml/blob/master/elj/eljwindow.cpp">wxWindow</a> looks a lot like that:</p><pre><code>EWXWEXPORT(bool,wxWindow_Close)(wxWindow* self,bool _force) { return self-&gt;Close(_force); } </code></pre><p>From what I understood, they stopped maintaining this library, so the wxHaskell developers took the code and maintained it for wxHaskell. In wxHaskell, a few include files describe all these C functions. Then, they use a program 'wxc' that generates Haskell stubs for all these functions, in a class hierarchy.</p><p>In the first version of wxCaml, <a href="http://forge.ocamlcore.org/projects/camlidl/">camlidl</a> was used to generate OCaml stubs from these header files. The header files had to be modified a little, for two reasons:</p><ul> <li> <p>They are actually not correct: some parts of these header files have not been updated to match the evolution of wxWidgets API. Some of the classes for which they describe stubs does not exist anymore. The tool used by wxHaskell filters out these classes, because their names are hardcoded in its code, but camlidl cannot.</p> </li><li> <p>camlidl needs to know more information than just what is written in C header files. It needs some attributes on types and arguments, like the fact that a char pointer is actually a string, or that a pointer argument to a function is used to return a value. See <a href="https://github.com/OCamlPro/wxOCaml/blob/master/idl/wxc_types.idl">wxc_types.idl</a> for macros to automate parts of this step.</p> </li><li> <p>camlidl was not used a lot, and not maintained for a long time, so there are some bugs in it. For example, the names of the arguments given in IDL header files can conflict with variables generated in C by camlidl (such as "_res") or with types of the caml C API (such as "value").</p> </li> </ul><p>Since the version of wxCaml I downloaded used outdated versions of wxWidgets (wxWindows 2.4.2 when current version is wxWidgets 2.9) and wxHaskell (0.7 when current version is 0.11), I decided to upgrade wxCaml to the current versions. I copied the ELJ library and the header files from the GitHub repository of wxHaskell. Unfortunately, the corresponding wxWidgets version is 2.9.4, which is not yet officially distributed by mainstream Linux distributions, so I had to compile it also.</p><p>After the painful work of fixing the new header files for camlidl, I was able to run a few examples of wxCaml. But I was not completely satisfied with it:</p><ul> <li> <p>To translate the relation of inheritance between classes for camlidl, wxCaml makes them equivalent, so that the child can be used where the ancestor can be used. Unfortunately, it means also that the ancestor can be used wherever the child would, and since most classes are descendant of wxObject, they can all be used in place of each other in the OCaml code !</p> </li><li> <p>A typed version of the interface had been started, but it was already making heavy use of objects, which I had decided to ban from the new version, as other advanced features of OCaml.</p> </li> </ul><h2>wxCamlidl, modifying camlidl for wxOCaml</h2><p>So, I decided to write a new typed interface, where each class would be translated into an abstract type, a module containing its methods as functions, and a few cast functions, from children to ancestors.</p><p>I wrote just what was needed to make two simple examples work (<a href="https://github.com/OCamlPro/wxOCaml/blob/master/examples/hello_world/hello.ml">hello_world</a> and <a href="https://github.com/OCamlPro/wxOCaml/blob/master/examples/two_panels/two_panels.ml">two_panels</a>, from wxWidgets tutorials), I was happy with the result:</p><p><a href="https://github.com/OCamlPro/wxOCaml/blob/master/examples/hello_world/hello.ml"><img src="http://www.ocamlpro.com//files/wxOCaml-screenshot-hello.png" alt="wxOCaml-screenshot-hello.png"/></a></p><p><a href="https://github.com/OCamlPro/wxOCaml/blob/master/examples/two_panels/two_panels.ml"><img src="http://www.ocamlpro.com//files/wxOCaml-screenshot-panels.png" alt="wxOCaml-screenshot-panels.png"/></a></p><p>But writting by hand the complete interface for all classes and methods would not be possible, so I decided it was time to write a tool for that task.</p><p>My first attempt at automating the generation of the typed interface failed because the basic tool I wrote didn't have enough information to correctly do the task: sometimes, methods would be inherited by a class from an ancestor, without noticing that the descendant had its own implementation of the method. Moreover, I didn't like the fact that camlidl would write all the stubs into a single file, and my tool into another file, making any small wxOCaml application links itself with these two huge modules and the complete ELJ library, even if it would use only a few of its classes.</p><p>As a consequence, I decided that the best spot to generate a modular and typed interface would be camlidl itself. I got a copy of its sources, and created a <a href="https://github.com/OCamlPro/wxOCaml/blob/master/wxCamlidl/wxmore.ml">new module in it</a>, using the symbolic IDL representation to generate the typed version, instead of the untyped version. The module would compute the hierarchy of classes, to be able to propagate statically methods from ancestors to children, and to generate cast functions from children to ancestors.</p><p>A first generated module, called <a href="https://github.com/OCamlPro/wxOCaml/blob/master/wxWidgets/wxClasses.mli">WxClasses</a> defines all the wxWidgets classes as abstract types:</p><pre><code>type eLJDragDataObject and eLJMessageParameters ... and wxDocument and wxFrameLayout and wxMenu and wxMenuBar and wxProcess and ... </code></pre><p>Types started by "eLJ..." are classes defined in the ELJ library for wxWidgets classes where methods have to be defined to override basic behaviors.</p><h2>Classes as modules</h2><p>For each wxWidget class, a specific module is created with:</p><ul> <li> <p>the constructor function, usually called "wxnew"</p> </li><li> <p>the methods of the class, and the methods of the ancestors</p> </li><li> <p>the cast functions to ancestors</p> </li> </ul><p>For example, for the <a href="https://github.com/OCamlPro/wxOCaml/blob/master/wxWidgets/wxFrame.ml">WxFrame</a> module, the tool generates <a href="https://github.com/OCamlPro/wxOCaml/blob/master/wxWidgets/wxFrame.mli">this signature</a>:</p><pre><code>open WxClasses external wxnew : (* constructor *) wxWindow -&gt; int -&gt; wxString -&gt; int -&gt; int -&gt; int -&gt; int -&gt; int -&gt; wxFrame = "camlidl_wxc_idl_wxFrame_Create_bytecode" ... (* direct methods *) external setToolBar : wxFrame -&gt; wxToolBar -&gt; unit = "camlidl_wxc_idl_wxFrame_SetToolBar" ... (* inherited methods *) external setToolTip : wxFrame -&gt; wxString -&gt; unit = "camlidl_wxc_idl_wxWindow_SetToolTip" ... (* string wrappers *) val wxnew : wxWindow -&gt; int -&gt; string -&gt; int -&gt; int -&gt; int -&gt; int -&gt; int -&gt; wxFr ame val setToolTip : wxFrame -&gt; string -&gt; unit ... val ptrNULL : wxFrame (* a NULL pointer *) ... external wxWindow : wxFrame -&gt; wxWindow = "%identity" (* cast function *) ... </code></pre><p>In this example, we can see that:</p><ul> <li> <p>WxFrame first defines the constructor for wxFrame objects. The constructor is later refined, because the stub makes use of wxString arguments, for which the tool creates a wrapper to use OCaml strings instead (using WxString.createUTF8 before the stub and WxString.delete after the stub).</p> </li><li> <p>Stubs are then created for direct methods, i.e. functions corresponding to new methods of the class wxFrame. String wrappers are also produced if necessary.</p> </li><li> <p>Stubs are also created for inherited methods. Here, "setToolTip" is a method of the class wxWindow (thus, its stub name wxWindow_SetToolTip). Normally, this function is in the WxWindow module, and takes a wxWindow as first argument. But to avoid the need for a cast from wxFrame to wxWindow to use it, we define it again here, allowing a wxFrame directly as first argument.</p> </li><li> <p>The module also defines a ptrNULL value that can be used wherever a NULL pointer is expected instead of an object of the class.</p> </li><li> <p>Finally, functions like "wxWindow" are cast functions from children to ancestor, allowing to use a value of type wxFrame wherever a value of type wxWindow is expected.</p> </li> </ul><p>All functions that could not be put in such files are gathered in a module <a href="https://github.com/OCamlPro/wxOCaml/blob/master/wxWidgets/wxMisc.mli">WxMisc</a>. Finally, the tool also generates a module <a href="https://github.com/OCamlPro/wxOCaml/blob/master/wxWidgets/wxWidgets.mli">WxWidgets</a> containing a copy of all constructors with simpler names:</p><pre><code>... val wxFrame : wxWindow -&gt; int -&gt; string -&gt; int -&gt; int -&gt; int -&gt; int -&gt; int -&gt; wxFrame val wxFontMapper : unit -&gt; wxFontMapper ... </code></pre><p>and functions to ignore the results of functions:</p><pre><code>... external ignore_wxFontMapper : wxFontMapper -&gt; unit = "%ignore" external ignore_wxFrame : wxFrame -&gt; unit = "%ignore" ... </code></pre><p>We expect wxOCaml applications to just start with "open WxWidgets" to get access to these constructors, to use functions prefixed by the class module names, and to use constants from the <a href="https://github.com/OCamlPro/wxOCaml/blob/master/wxWidgets/wxdefs.ml">Wxdefs module</a>.</p><p>Here is how the minimal application looks like:</p><pre><code>open WxWidgets let _ = let onInit event = let frame_id = wxID () in let quit_id = wxID() in let about_id = wxID() in (* Create toplevel frame *) let frame = wxFrame WxWindow.ptrNULL frame_id "Hello World" 50 50 450 350 Wxdefs.wxDEFAULT_FRAME_STYLE in WxFrame.setStatusText frame "Welcome to wxWidgets!" 0; (* Create a menu *) let menuFile = wxMenu "" 0 in WxMenu.append menuFile about_id "&amp;About" "About the application" false; WxMenu.appendSeparator menuFile; WxMenu.append menuFile quit_id "E&amp;xit" "Exit from the application" false; (* Add the menu to the frame menubar *) let menuBar = wxMenuBar 0 in ignore_int (WxMenuBar.append menuBar menuFile "&amp;File"); WxFrame.setMenuBar frame menuBar; ignore_wxStatusBar (WxFrame.createStatusBar frame 1 0); (* Handler for QUIT menu *) WxFrame.connect frame quit_id Wxdefs.wxEVT_COMMAND_MENU_SELECTED (fun _ -&gt; exit 0); (* Handler for ABOUT menu *) WxFrame.connect frame about_id Wxdefs.wxEVT_COMMAND_MENU_SELECTED (fun _ -&gt; ignore_int ( WxMisc.wxcMessageBox "wxWidgets Hello World example." "About Hello World" (Wxdefs.wxOK lor Wxdefs.wxICON_INFORMATION) (WxFrame.wxWindow frame) Wxdefs.wxDefaultCoord Wxdefs.wxDefaultCoord ) ); (* Display the frame *) ignore_bool ( WxFrame.show frame ); ELJApp.setTopWindow (WxFrame.wxWindow frame) in WxMain.main onInit (* Main WxWidget loop starting the app *) </code></pre><h2>Testers welcome</h2><p>The current code can be downloaded from our <a href="http://github.com/OCamlPro/wxOCaml">repository on GitHub</a>. It should work with wxWidgets 2.9.4, and the latest version of ocp-build (1.99-beta5).</p><p>Of course, as I never wrote an application with wxWidgets before, I could only write a few examples, so I would really appreciate any feedback given by beta testers, especially as there might be errors in the translation to IDL, that make important functions impossible to use, that I cannot detect by myself.</p><p>I am also particularly interested by feedback on the use of modules for classes, to see if the corresponding style is usable. Our current feeling is that it is more verbose than a purely object-oriented style, but it is simpler for beginners, and improves the readability of code.</p><p>Finally, it was a short two-day hack, so it is far from finished. Especially, after hacking wxCamlidl, and looking at the code of the ELJ library, I had the feeling that we could go directly from the C++ header files, or something equivalent, to produce not only the OCaml stubs and the typed interface, but also the C++ to C bindings, and get rid completely of the ELJ library.</p><a onclick="switchContent('post8','post7')" class="btn" href="#a6ceaf8396d08d2bc09ea2097e98f50c">Hide</a></div></span>
<a name="012eb69049c736206be19c043ea8f000"></a><span class="rss-header"><span class="rss-title"><a href="http://alan.petitepomme.net/cwn/2013.03.26.html"> Caml Weekly News, 26 Mar 2013</a></span>&nbsp;&mdash;&nbsp;<span class="rss-author">Caml Weekly News</span>, <span class="rss-date">26 Mar 2013</span></span><span class="rss-description">Case study in optimization: porting a compiler from OCaml to F# / Oregon Programming Languages Summer School - call for participation / Other Caml News</span>
<a name="4500c6dfee297759b237d6b0101e99f5"></a><span class="rss-header"><span class="rss-title"><a href="http://bentobako.org/david/blog/index.php?post/2013/01/28/The-failures-of-Debian-%28and-its-derivatives%29"> The failures of Debian (and its derivatives)</a></span>&nbsp;&mdash;&nbsp;<span class="rss-author">David Mentré</span>, <span class="rss-date">22 Mar 2013</span></span><span class="rss-description"><div id="post9"><p>I am a long term Debian user. I have used Debian since probably the mid 90' up to now. I use latest Debian stable on my personal server or at work, and Ubuntu on my desktop and laptop machines at home. Using it does not mean I am entirely satisfied with it to say the least. I think the distribution is not making enough efforts for its users and I'll try to explain why. Of course, YYMV. ;-)</p> <a onclick="switchContent('post9','post10')" class="btn" href="#4500c6dfee297759b237d6b0101e99f5">Read more...</a></div><div id="post10" style="display: none"><p>I am a long term Debian user. I have used Debian since probably the mid 90' up to now. I use latest Debian stable on my personal server or at work, and Ubuntu on my desktop and laptop machines at home. Using it does not mean I am entirely satisfied with it to say the least. I think the distribution is not making enough efforts for its users and I'll try to explain why. Of course, YYMV. ;-)</p> <ul> <li><strong>Debian packaging is made for developers, not users</strong>. Debian has too many packages. To take just one example, the OCaml compiler is packaged into the main compiler, its libraries, the native compiler and the byte code one, etc. Why so many packages? If I am an OCaml developer, I want all of them so why do I need to manually find (the naming is far from being obvious, at least for beginners) and install so many packages? I have heard of several reasons: it allows to factorise common parts between the different binary architectures, it allows to install the command line only parts without the graphics parts, it allows to install only what the user wants, etc. For me, those reasons are just plain wrong. We have more and more disk capacity on our machines so disk usage is no longer a limitation. The package should be able to dynamically activate the graphic parts automatically if the X server is available. And the factorisation of shared parts between Debian architectures should be done on the servers storing the packages, not trough the packaging system.</li> </ul> <ul> <li><strong>Debian has out-dated software</strong>. Debian Wheezy is about to be released and it will have GNOME 3.4. But GNOME 3.6 is already out and GNOME 3.8 is on its way. And I am taking GNOME as an example, it is the same issue for lot of software within Debian. I have heard this is for stability issues. But software packaged in Debian is already stable! It should take 10 or 15 days to integrate a new software into Debian stable, not months or even years (the time between successive stable releases). I acknowledge that some packages have complex interdependencies between each others. For example, when a new release of the OCaml compiler is out, one needs to recompile all OCaml packages. But this constraint is only for OCaml packages. Why should I wait for a new stable version of Debian to get the newly released OCaml compiler? For me this sounds just plain wrong.</li> </ul> <ul> <li><strong>Nobody uses plain Debian stable</strong>. Debian developers are using unstable. Debian users are using Debian stable, but enriched with backports because of out-dated software. Or derivatives like Ubuntu. The fact the Debian developers are not using what they recommend to users is bogus. I know they do that for technical reasons, but that should not be a good reason. Debian developers should use what they are providing to their users, except maybe for a few packages they are working on.</li> </ul> <ul> <li><strong>There are too many dependencies between packages</strong>. The dependency system of Debian is a nice piece of work, it was ahead of its time when it was created. But the use of dependencies has been perverted. The dependencies are manually computed (thus source of errors and bugs) and at the same time any software can write to about any part of the file system. Due to too many dependencies and lack of clean interfaces between sub-systems, the installation of a recent user software can trigger a ton of packages down to a new kernel or libc. Why is it so? I think the sub-systems of Debian (e.g. the X graphical infrastructure, the kernel and base C libraries, the OCaml system, ...) should be isolated the one from the others. It would allow them to be updated without waiting for the others. Having dependencies between 29,000 packages is just not scalable. It is even more true if those dependencies are manually computed.</li> </ul> <ul> <li><strong>Debian packaging is lacking automation</strong>. I am a developer. Debian packagers are developers. It always astonished me how much manual work should be done to make and maintain a Debian package. All developers know that if they want to be efficient, they need to automate their work as much as possible, so as to be able to focus their manpower on the complex parts. Everything should be automated in Debian packages, starting from a minimal description file. Automation should be the default (package creation, test, static analysis, ...), not the exception.</li> </ul> <ul> <li><strong>One cannot install simultaneously several versions of the same software</strong>. As a user or developer, I want to use the stable version of a piece of software and maybe the latest stable version that just have been released in order to do a few tests or check that my software still compiles with the new shiny compiler. Debian does not allow me to do that. And if I install a newer package, downgrading to the previous version is complex and error prone.</li> </ul> <ul> <li><strong>Debian is undocumented</strong>. I am not talking about the installation guide which is nice, I am talking about the modifications made to software by Debian developers. Doing modification on the "standard" (for the software) way of configuring or using it has always seemed suspect to me, even if I agree that having harmonized configuration is a real advantage (all configuration files in /etc for example). But all of those modifications should be documented in README.Debian file. To take an example, the last time I tried to install the dokuwiki Debian package, I was unable to configure it! The way to add new users had been changed compared to a regular dokuwiki (the web interface was disabled), and those changes were undocumented. It should be a release critical bug! Without proper documentation, the user cannot use the software. And, of course, the reason behind those changes should be questioned, even for security reasons (a very secure but unusable software is superfluous. Security is a trade-off).</li> </ul> <p>So, why I am complaining? Why I do not become a Debian Developer, so I can fix it? Because a single developer is not going to change the root causes of those issues. They need a massive development effort, or at least a massive acknowledgement by the Debian Developers. And I don't have ready-made answers to those issues (even if I have some ideas to solve them).</p> <p>Is the grass greener in the other fields? I don't think so, or at least I am not aware of it. I like Debian for is community approach, its focus on Free Software (even if it is sometimes imperfect) and the wide range of software packaged in it (the OCaml packages are numerous for example). I just hope that the whole Debian community will focus on more user related issues in the future.</p><a onclick="switchContent('post10','post9')" class="btn" href="#4500c6dfee297759b237d6b0101e99f5">Hide</a></div></span>
<a name="6f1d80d96686f1248d18776ac85fb4cf"></a><span class="rss-header"><span class="rss-title"><a href="http://caml.inria.fr/cgi-bin/hump.cgi?contrib=818"> Stog 0.8.0</a></span>&nbsp;&mdash;&nbsp;<span class="rss-author">The Caml Humps</span>, <span class="rss-date">20 Mar 2013</span></span><span class="rss-description">Stog is a kind of Jekyll in OCaml: It is a static web site generator, able to handle blog posts as well as regular pages.</span>
<a name="c8d1b76670230be9d19c1105da03f9fa"></a><span class="rss-header"><span class="rss-title"><a href="http://caml.inria.fr/cgi-bin/hump.cgi?contrib=850"> OCamlRSS 2.1.0</a></span>&nbsp;&mdash;&nbsp;<span class="rss-author">The Caml Humps</span>, <span class="rss-date">20 Mar 2013</span></span><span class="rss-description">OCaml-RSS is an OCaml library providing functions to parse and print RSS 2.0 files.</span>
<script type="text/javascript">function switchContent(id1,id2) {
     // Get the DOM reference
     var contentId1 = document.getElementById(id1);
     var contentId2 = document.getElementById(id2);
     // Toggle
     contentId1.style.display = "none";
     contentId2.style.display = "block";
     }</script></div>

  
    </div>

    
    <br/>
    <hr/>
    <div id="footer">
      Contribute to this project!
      Find us on <a href="https://github.com/ocaml/ocaml.org">Github</a>.
    </div>
    <span title=".././img/ = image directory from the base of the site"></span>


    
    
    

    <script src="http://platform.twitter.com/widgets.js" type="text/javascript"></script>
    <script src=".././js/jquery-1.8.0.min.js"></script>
    
    <script src=".././js/bootstrap.js"></script>

    <script type="text/javascript">
      var _gaq = _gaq || []; _gaq.push(['_setAccount', 'UA-22552764-2']); _gaq.push(['_trackPageview']);
      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>

    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-37808023-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();

    </script>

</body></html>
