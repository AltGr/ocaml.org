<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="utf-8"/>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
    
    <meta content="IE=8" http-equiv="X-UA-Compatible"/>
    <title>OCaml :: OCaml Planet</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <meta content="Ashish Agarwal, Esther Baruk, Christophe Troestler and many contributors" name="author"/>
    <meta content="" name="description"/>
    <meta content="" name="keywords"/>
    <meta content="OCaml (Weberizer)" name="generator"/>

    <link href="https://static.ocamlcore.org/official/images/favicon.ico" rel="shortcut icon"/>
    <link rel="stylesheet" href=".././css/bootstrap.css"/>
    <link href=".././css/ocaml.css" media="all" type="text/css" rel="stylesheet"/>
    <link rel="stylesheet" href=".././css/bootstrap-responsive.css"/>

    
    

    <meta content="OCaml Planet" property="og:title"/>
    <meta content="non_profit" property="og:type"/>

    <meta content="all" name="robots"/>
  </head>
  <body>
    <div id="header">
      <div class="top">
      </div>
      <div class="bottom">
      </div>
    </div>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
	  
          <a data-target=".nav-collapse" data-toggle="collapse" class="btn btn-navbar">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a href=".././" class="brand">OCaml</a>

          <div class="nav-collapse">
            <ul class="nav">
	      <li class="dropdown">
  <a href="../#" class="dropdown-toggle" data-toggle="dropdown">
    Discover
    <b class="caret"></b>
  </a>
  <ul class="dropdown-menu">
    <li><a href="../description.html">What is OCaml?</a></li>
    <li><a href="http://try.ocamlpro.com/">Try it Online</a></li>
    <li><a href="../taste.html">100 Lines of OCaml</a></li>
    <li><a href="../success.html">Success Stories</a></li>
    <li><a href="../companies.html">Who Is Using It?</a></li>
    <li><a href="http://pleac.sourceforge.net/pleac_ocaml/">Pleac</a></li>
    <li><a href="http://rosettacode.org/wiki/Category:OCaml">Rosetta</a>
        <a href="http://langref.org/ocaml">langref.org</a></li>
  </ul>
</li>
<li class="dropdown">
  <a href="../#" class="dropdown-toggle" data-toggle="dropdown">
    Learn
    <b class="caret"></b></a>
  <ul class="dropdown-menu">
    <li><a href="../install.html">Install</a></li>
    <li><a href="../tutorials/">Tutorials</a></li>
    <li><a href="../faq.html">FAQ</a></li>
    <li><a href="../books.html">Books</a></li>
    <li><a href="../videos.html">Videos</a></li>
    <li><a href="../papers.html">Papers</a></li>
  </ul>
</li>
<li class="dropdown">
  <a href="../#" class="dropdown-toggle" data-toggle="dropdown">Use
    <b class="caret"></b></a>
  <ul class="dropdown-menu">
    <li><a href="../releases/">Releases</a></li>
    <li><a href="../libraries.html">Libraries</a></li>
    <li><a href="../dev_tools.html">Development Tools</a></li>
    <li><a href="../books.html#manual">User Manual</a></li>
    <li><a href="../cheat_sheets.html">Cheat Sheets</a></li>
    <li><a href="http://search.ocaml.jp/">OCaml API Search</a></li>
    <li><a href="http://forge.ocamlcore.org/">Forge</a></li>
    <li><a href="https://github.com/languages/OCaml">GitHub</a></li>
    <li><a href="https://bitbucket.org/repo/all?name=ocaml">Bitbucket</a></li>
  </ul>
</li>
<li class="dropdown">
  <a href="../#" class="dropdown-toggle" data-toggle="dropdown">Community
    <b class="caret"></b></a>
  <ul class="dropdown-menu">
    <li><a href="../mailing_lists.html">Mailing Lists</a></li>
    <li><a href="../planet/">Blogs</a></li>
    <li><a href="../meetings/">Meetings</a></li>
    <li><a href="irc://irc.freenode.net/ocaml">IRC</a></li>
    <li><a href="http://stackoverflow.com/questions/tagged?tagnames=ocaml">Stack Overflow</a></li>
    <li><a href="http://www.reddit.com/r/ocaml/">Reddit</a></li>
    <li><a href="../support.html">Commercial Support</a></li>
  </ul>
</li>
<li class="dropdown">
  <a href="../#" class="dropdown-toggle" data-toggle="dropdown">More
    <b class="caret"></b></a>
  <ul class="dropdown-menu">
    <li><a href="http://caml.inria.fr/mantis/">Mantis Bug Tracker</a></li>
    <li><a href="../caml-light/">Caml Light</a></li>
    <li><a href="../logos.html">Logos</a></li>
  </ul>
</li>

            </ul>
	    <form action="http://www.google.com/search" method="get" class="navbar-search pull-right">
	      <input placeholder="Search" class="search-query" name="q" type="text"/>
	      <input value="site:http://www.ocaml.org/" name="q" type="hidden"/>
	    </form>
            
	    
          </div>
        </div>
      </div>
    </div>

    <div class="container">
      <span class="navigation-bar">
	<a href="./../">Home</a><span class="separation"><img src=".././img/right_arrow.png" alt="&gt;"/></span>OCaml Planet
	<span id="language">
	  <span class="horizontal-toolbar"><span class="open-bracket">[</span><span class="current-url">En</span><span class="close-bracket">]</span></span>
	</span>
      </span>

      

    <h1>OCaml Planet</h1>

    <p>The OCaml Planet aggregates various blogs from the OCaml
    community.  It is kindly provided
    by <a href="http://www.ocamlcore.com/">OCamlCore</a>.  If you
    would like to be added, read
    the <a href="http://www.ocamlcore.org/planet/">Planet
    subscription HOWTO</a>.</p>

    <br/>
    <div style="float: right; margin-right: 0; margin-top: 0" class="span2 planet-subscriptions"><em>Subscriptions</em>
      <ul><li><a href="http://alexleighton.tumblr.com/tagged/ocaml/rss">Alex Leighton</a></li><li><a href="http://feeds.feedburner.com/amirmc-ocaml">Amir Chaudhry</a></li><li><a href="http://andreiformiga.com/blog/?cat=5&feed=rss2">Andrei Formiga</a></li><li><a href="http://math.andrej.com/feed/">Andrej Bauer</a></li><li><a href="http://anil.recoil.org/feeds/atom.xml">Anil Madhavapeddy</a></li><li><a href="http://ashishagarwal.org/tag/ocaml/feed/">Ashish Agarwal</a></li><li><a href="http://www.blogger.com/feeds/7617521785419311079/posts/default">Cameleon news</a></li><li><a href="http://caml.inria.fr/news.en.rss">Caml INRIA</a></li><li><a href="http://camlspotter.blogspot.com/feeds/posts/default?alt=rss">Caml Spotting</a></li><li><a href="http://alan.petitepomme.net/cwn/cwn.rss">Caml Weekly News</a></li><li><a href="http://coherentpdf.com/blog/?tag=ocaml&feed=rss">Coherent Graphics</a></li><li><a href="http://coq.inria.fr/news/feed">Coq</a></li><li><a href="http://erratique.ch/feeds/news.atom">Daniel Bünzli</a></li><li><a href="http://nleyten.com:82/feed/tag/ocaml/atom">Dario Teixeira</a></li><li><a href="http://www.blogger.com/feeds/17133288/posts/default/-/ocaml">David Baelde</a></li><li><a href="http://blog.bentobako.org/index.php?feed/tag/ocaml/atom">David Mentré</a></li><li><a href="http://dutherenverseauborddelatable.wordpress.com/category/ocaml/feed/">David Teller</a></li><li><a href="http://www.examachine.net/blog/cat/ocaml/feed/">Eray Özkural</a></li><li><a href="http://www.mega-nerd.com/erikd/Blog/index.rss20">Erik de Castro Lopo</a></li><li><a href="http://blog.emillon.org/feeds/ocaml.xml">Etienne Millon</a></li><li><a href="http://www.blogger.com/feeds/8964007124326996693/posts/default/-/ocaml">Fayssal Martani</a></li><li><a href="http://frama-c.com/rss.xml">Frama-C</a></li><li><a href="http://functionaljobs.com/jobs/search/?q=ocaml&format=rss">Functional Jobs</a></li><li><a href="http://gallium.inria.fr/blog/index.rss">GaGallium</a></li><li><a href="http://gaiustech.wordpress.com/category/ocaml/feed/">Gaius Hammond</a></li><li><a href="http://blog.camlcity.org/blog/rss">Gerd Stolpmann</a></li><li><a href="http://www.wisdomandwonder.com/tag/OCaml/feed">Grant Rettke</a></li><li><a href="http://hongboz.wordpress.com/feed/">Hong bo Zhang</a></li><li><a href="http://blog.incubaid.com/tag/ocaml/feed/">Incubaid Research</a></li><li><a href="http://ambassadortothecomputers.blogspot.com/feeds/posts/default?alt=rss">Jake Donham</a></li><li><a href="http://scattered-thoughts.net/atom.xml">Jamie Brandon</a></li><li><a href="https://ocaml.janestreet.com/?q=rss.xml">Jane Street</a></li><li><a href="http://lpw25.net/rss.xml">Leo White</a></li><li><a href="http://www.lexifi.com/blogs/ocaml/feed">LexiFi</a></li><li><a href="http://newblog.0branch.com/rss.xml">Marc Simpson</a></li><li><a href="http://syntaxexclamation.wordpress.com/tag/ocaml/feed/">Matthias Puech</a></li><li><a href="http://www.blogger.com/feeds/5888658295182480819/posts/default">Matías Giovannini</a></li><li><a href="http://www.elehack.net/michael/blog/tags/ocaml?format=rss">Michael Ekstrand</a></li><li><a href="">Mihamina Rakotomandimby</a></li><li><a href="http://mcclurmc.wordpress.com/feed/">Mike McClurg</a></li><li><a href="http://nyc-ocaml.posterous.com/rss.xml">NYC OCaml</a></li><li><a href="http://forge.ocamlcore.org/export/rss_sfnews.php">OCamlCore Forge News</a></li><li><a href="http://forge.ocamlcore.org/export/rss_sfprojects.php">OCamlCore Forge Projects</a></li><li><a href="http://www.ocamlcore.com/wp/?feed=rss2&amp;language=en&#038;language=en">OCamlCore.com</a></li><li><a href="http://www.ocamlpro.com/feed/atom.xml">OCamlPro</a></li><li><a href="http://odns.tuxfamily.org/feed/">ODNS project</a></li><li><a href="http://ox.tuxfamily.org/feed/">Ocaml XMPP project</a></li><li><a href="http://ocsigen.org/news.atom">Ocsigen project</a></li><li><a href="http://www.blogger.com/feeds/2073503406800427577/posts/default">Opa</a></li><li><a href="http://www.openmirage.org/blog/atom.xml">Open Mirage</a></li><li><a href="http://functional-orbitz.blogspot.com/feeds/posts/default/-/planetocaml?alt=rss">Orbitz</a></li><li><a href="http://www.donadeo.net/facets/programming-languages/objective-caml/feed/">Paolo Donadeo</a></li><li><a href="https://mancoosi.org/~abate/taxonomy/term/5/0/feed">Pietro Abate</a></li><li><a href="http://rwmj.wordpress.com/tag/ocaml/feed/">Richard Jones</a></li><li><a href="http://blog.rastageeks.org/spip.php?page=rss&id_mot=2">Romain Beauxis</a></li><li><a href="http://seb.mondet.org/blog/feed/ocaml.rss">Sebastien Mondet</a></li><li><a href="http://upsilon.cc/~zack/tags/ocaml/index.rss">Stefano Zacchiroli</a></li><li><a href="http://le-gall.net/sylvain+violaine/blog/index.php?feed/tag/ocaml/atom">Sylvain Le Gall</a></li><li><a href="http://caml.inria.fr/hump.rss">The Caml Humps</a></li><li><a href="http://www.blogger.com/feeds/6115529230232389198/posts/default">Till Varoquaux</a></li><li><a href="http://y-node.com/blog/feeds/latest/">y-node</a></li></ul>

      <a href="http://planet.ocaml.org/rss20.xml"><img src=".././img/rss20.png"/></a>
      <a href="http://planet.ocaml.org/opml.xml"><img src=".././img/opml.png"/></a>
    </div>
    <div class="planet"><a name="d8a9f97f1e45b54416fd3ccd6a575957"></a><span class="rss-header"><span class="rss-title"><a href="https://forge.ocamlcore.org/projects/test-svn/"> test-svn</a></span>&nbsp;&mdash;&nbsp;<span class="rss-author">OCamlCore Forge Projects</span>, <span class="rss-date">26 Apr 2013</span></span><span class="rss-description">This project is a test for subversion.</span>
<a name="f1e7f0eb0fbcc3c20d6a584a9babd329"></a><span class="rss-header"><span class="rss-title"><a href="https://forge.ocamlcore.org/projects/test-git/"> test-git</a></span>&nbsp;&mdash;&nbsp;<span class="rss-author">OCamlCore Forge Projects</span>, <span class="rss-date">26 Apr 2013</span></span><span class="rss-description">This project is a test for git.</span>
<a name="b1be0f78f401b7324e7dbfcd9b5b32e8"></a><span class="rss-header"><span class="rss-title"><a href="https://forge.ocamlcore.org/forum/forum.php?forum_id=875"> Cryptokit 1.7 released</a></span>&nbsp;&mdash;&nbsp;<span class="rss-author">OCamlCore Forge News</span>, <span class="rss-date">24 Apr 2013</span></span><span class="rss-description"><pre class="rss-text">Now includes the SHA-3 hash function recently standardized by NIST.</pre></span>
<a name="df531457e019bd3465b87aa00850583f"></a><span class="rss-header"><span class="rss-title"><a href="https://forge.ocamlcore.org/forum/forum.php?forum_id=874"> forge distribution upgrade 2013/04/24 - 04/27</a></span>&nbsp;&mdash;&nbsp;<span class="rss-author">OCamlCore Forge News</span>, <span class="rss-date">23 Apr 2013</span></span><span class="rss-description"><pre class="rss-text">The admin team plans to upgrade the forge system. There will be various upgrade on the system. So some program can be broken in the next coupld of days. I expect to spend in between 1 and 3 days, depending on what breaks on the system. Feel free to contact me directly sylvain ... le-gall.net or gildor on IRC #ocaml. Sylvain Le Gall on behalf of the admin team.</pre></span>
<a name="e8a4cb07921501e9bbe728edf34d08df"></a><span class="rss-header"><span class="rss-title"><a href="http://alan.petitepomme.net/cwn/2013.04.23.html"> Caml Weekly News, 23 Apr 2013</a></span>&nbsp;&mdash;&nbsp;<span class="rss-author">Caml Weekly News</span>, <span class="rss-date">23 Apr 2013</span></span><span class="rss-description">first release of dolog: the dumb ocaml logger / Other Caml News</span>
<a name="95a7761a721456bf40e8c3358f475413"></a><span class="rss-header"><span class="rss-title"><a href="http://www.ocamlpro.com/blog/2013/04/22/monthly-04.html"> April Monthly Report</a></span>&nbsp;&mdash;&nbsp;<span class="rss-author"><span id="ocaml_1">OCamlPro &#9001;thomas<abbr title="(at) &rarr; @">(at)</abbr>ocamlpro.com (Thomas Gazagnaire)&#9002;</span><script type="text/javascript"><!--;
local = "thomas";
h = "ocamlpro.com (Thomas Gazagnaire)";
hq = "ocamlpro.com%20(Thomas%20Gazagnaire)";
document.getElementById("ocaml_1").innerHTML = '<a href="mailto:' + local + '@' + hq + "\" >OCamlPro<\/a>";
//--></script></span>, <span class="rss-date">22 Apr 2013</span></span><span class="rss-description"><div id="post1"><p>This post aims at summarizing the activities of OCamlPro for the past month. As usual, we worked in three main areas: the OCaml toolchain, development tools for OCaml and R&amp;D projects.</p><h2>The toolchain</h2><p>Our multi-runtime implementation of OCaml had gained stability. <a href="http://ageinghacker.net/">Luca</a> fixed a lot of low-level bugs in the "master" branch of <a href="http://www.github.com/lucasaiu/ocaml">his OCaml repository</a>, which were mainly related to the handling of signals. There are still some issues, which seem to be related to thread-switching (ie. when using OS level mutli-threading).</p><a onclick="switchContent('post1','post2')" class="btn" href="#95a7761a721456bf40e8c3358f475413">Read more...</a></div><div id="post2" style="display: none"><p>This post aims at summarizing the activities of OCamlPro for the past month. As usual, we worked in three main areas: the OCaml toolchain, development tools for OCaml and R&amp;D projects.</p><h2>The toolchain</h2><p>Our multi-runtime implementation of OCaml had gained stability. <a href="http://ageinghacker.net/">Luca</a> fixed a lot of low-level bugs in the "master" branch of <a href="http://www.github.com/lucasaiu/ocaml">his OCaml repository</a>, which were mainly related to the handling of signals. There are still some issues, which seem to be related to thread-switching (ie. when using OS level mutli-threading).</p><p>We made great progress on improved inlining strategy. In the current OCaml compiler, inlining, closure conversion and constant propagation are done in a single pass interleaved with analysis. It has served well until now, but to improve it in a way which is easily extensible in the future, it needs a complete rewrite. After a few prototypes, <a href="http://www.lsv.ens-cachan.fr/~chambart/">Pierre</a> is now coming up with a suitable intermediate language (IR) more suited for the job, using a dedicated value analysis to guide the simplification and inlining passes. This IR will stand between the lambda code and the C-lambda and is designed such that future specialized optimization can be easily be added. There are two good reasons for this IR: First, it is not as intrusive and reduces the extent of the modifications to the compiler, as it can be plugged between two existing passes and turned on or off using a command-line flag. Second, it can be tweaked to make the abstract interpretation more precise and efficient. For instance, we want the inlining to work with higher-order functions as well as modules and functors, performing basic defunctorization. It is still in an experimentation phase, but we are quickly converging on the API and hope to have something we can demo in the next months.</p><p>Our <a href="http://www.ocamlpro.com/blog/2012/08/08/profile-native-code.html">frame-pointer patch</a> has also been accepted. Note that, as this patch changes the calling sconvention of OCaml programs, you cannot link together libraries compiled with and without the patch. Hence, this option will be provided as a configuration switch (<code>./configure --with-frame-pointer</code>).</p><p>Regarding memory profiling, we released a preliminary prototype of the memory profiler for native code. It is available in <a href="https://github.com/cago/ocaml">Çagdas</a> repository. We are still in the process of testing and evaluating the prototype before making it widely available through OPAM. As the previous bytecode prototype, you need to compile the libraries and the program you want to profile as usual in order to build a table associating unique identifier to program locations (.prof file). Then, for each allocated block, we have then patched the runtime of OCaml to encode in the header the identifier of the line which allocated it. To be able to dump the heap, you can either instrument your program, or send a signal, or set the appropriate environment variable (<code>OCAMLRUNPARAM=m</code>). Finally, you can use the profiler which will read the .prof and .cmt files in order to generate a pdf file which is the amount of memory use by type. More details on this will come soon, you can already read the <a href="https://github.com/cago/ocaml/blob/4.00.1%2Bmemprof/README">README</a> file available on github.</p><p>Finally, we organized a new meeting with the core-team to discuss some of the bugs in the <a href="http://caml.inria.fr/mantis">OCaml bug tracker</a>. It was the first of the year, but we are now going to have one every month, as it has a very positive impact on the involvement of everybody in fixing bugs and helps focus work on the most important issues.</p><h2>Development Tools for OCaml</h2><p>Since the latest release of <a href="http://github.com/OCamlPro/ocp-indent">ocp-indent</a>, <a href="http://louis.gesbert.fr/cv.en.html">Louis</a> continued to improve the tool. We plan to release version 1.2.0 in the next couple of days, with some bug fixes (esp. related to the handling of records) and the following new features: operators are now aligned by default (as well as opened parentheses not finishing a line) and indentation can be bounded using the <code>max_indent</code> parameter. We are also using the great <a href="http://erratique.ch/software/cmdliner">cmdliner</a> which means <code>ocp-indent</code> now has nice manual pages.</p><p>We are also preparing a new minor release of <a href="http://opam.ocamlpro.com/">OPAM</a>, with a few bug fixes, an improved solver heuristic and improved performance. OPAM statistics seem to converge towards round numbers, as <a href="http://github.com/OCamlPro/opam">OcamlPro/opam</a> repository has recently reached 100 "stars" on Github, <a href="http://github.com/OCamlPro/opam-repository">OCamlPro/opam-repository</a> is not very far from being forked 100 times, while the number of unique packages on <a href="http://opam.ocamlpro.com">opam.ocamlpro.com</a> is almost 400. We are also preparing the platform release, with a cleaner and simpler client API to be used by the upcoming "Ocamlot", the automated infrastructure which will test and improve the quality and consistency of OPAM packages.</p><p>Last, we released a very small - but already incredibly useful tool: <a href="http://github.com/OCamlPro/ocp-index">ocp-index</a>. This new tool provides completion based on what is installed on your system, with type and documentation when available. Similarly to <code>ocp-indent</code>, the main goal of this tool is to make it easy to integrate in your editor of choice. As a proof of concept, we also distribute a small curses-based tool, called <code>ocp-browser</code>, which lets you browse interactively the libraries installed on your system, as well as an emacs binding for <code>auto-complete.el</code>. Interestingly enough, behind the scene <code>ocp-index</code> uses a <a href="https://github.com/OCamlPro/ocp-index/blob/master/src/trie.mli">lazy immutable prefix tree</a> with merge operations to efficiently store and load cmis and cmt files.</p><h2>Other R&amp;D Projects</h2><p>We continued to work on the <a href="http://www.richelieu.pro/">Richelieu</a> project. We are currently adding basic type-inference for Scilab programs to our tool <a href="https://github.com/OCamlPro/richelieu/tree/jit-fabrice/scilab/modules/jit_ocaml/src/scilint">scilint</a>, to be able to print warnings on possible programers mistakes. A first part of the work was to understand how to automatically get rid of some of the <code>eval</code> constructs, especially <code>deff</code> and <code>evalstr</code> primitives that are often used. After this, <a href="https://github.com/Michaaell">Michael</a> manually analyzed some real-world Scilab programs to understand how typing should be done, and he is now implementing the type checker and a table of types for primitive functions.</p><p>We are also submitting a new project, called SOCaml, for funding by the French government. In 2010, <a href="http://www.ssi.gouv.fr/">ANSSI</a>, the French agency for the security of computer systems, commanded a study, called LAFOSEC, to understand the advantages of using functional languages in the domain of security. Early results of the study were presented in <a href="http://jfla.inria.fr/2013/programme">JFLA'2013</a>, with in particular recommandations on how to improve OCaml to use it for security applications. The goal of the SOCaml project would be to implement these recommandations, to improve OCaml, to provide additional tools to detect potential errors and to implement libraries to verify marshaled values and bytecode. We hope the project will be accepted, as it opens a new application domain for OCaml, and would allow us to work on this topic with our partners in the project, such as <a href="http://www.lexifi.com">LexiFi</a> and <a href="http://michel.mauny.net/">Michel Mauny</a>'s team at ENSTA Paristech (the project would also contribute to their <a href="http://github.com/ocaml-bytes/ocamlcc">ocamlcc</a> bytecode-to-c compiler).</p><a onclick="switchContent('post2','post1')" class="btn" href="#95a7761a721456bf40e8c3358f475413">Hide</a></div></span>
<a name="0b58eb07ad0a4588a161e55b19c30dce"></a><span class="rss-header"><span class="rss-title"><a href="http://syntaxexclamation.wordpress.com/?p=354"> My thesis is out!</a></span>&nbsp;&mdash;&nbsp;<span class="rss-author">Matthias Puech</span>, <span class="rss-date">19 Apr 2013</span></span><span class="rss-description"><div id="post3"><a onclick="switchContent('post3','post4')" class="btn" href="#0b58eb07ad0a4588a161e55b19c30dce">Read more...</a></div><div id="post4" style="display: none"><p>At last! The definitive, final and comprehensive version of my thesis manuscript is out. I defended it on April 8 in Bologna, Italy, and received both titles of “Dottore di ricerca” and “Docteur” in Computer Science, with great pride and relief. What an adventure! You can find my manuscript on my <a href="http://www.pps.univ-paris-diderot.fr/~puech/">web page</a>, precisely <a href="http://www.pps.univ-paris-diderot.fr/~puech/thesis.pdf" title="My Ph.D thesis">here</a>; it’s called <em>Certificates for incremental type-checking</em>, and after much hesitation, I chose a blue cover for its printed version (it was a tough choice). It is already a little bit obsolete since I compulsively worked on that material even after its submission to avoid the baby blues, but I will nonetheless advertise it here, and eventually write about my advances in future posts. In short, if you are interested in proof certificates, manipulation of proof objects in a functional language, spine-form LF, incremental type-checking, contextual type theory, or the relationship between natural deduction and the sequent calculus, you might be interested in some parts of my manuscript.</p> <p><span id="more-354"></span></p> <p>In a little more details, the abstract printed on the (blue) back cover reads:</p> <blockquote><p>The central topic of this thesis is the study of algorithms for type checking, both from the programming language and from the proof-theoretic point of view. A type checking algorithm takes a program or a proof, represented as a syntactical object, and checks its validity with respect to a specification or a statement; it is a central piece of compilers and proof assistants. First, we present a tool which supports the development of functional programs manipulating proof certificates (certifying programs). It uses LF as a representation metalanguage for higher-order proofs and OCaml as a programming language, and facilitates the automated and efficient verification of these certificates at run time. Technically, we introduce in particular the notion of function inverse allowing to abstract from a local environment when manipulating open terms. Then, we remark that the idea of a certifying type checker, generating a typing derivation, can be extended to realize an incremental type checker, working by reuse of typing subderivation. Such a type checker would make possible the structured and type-directed edition of proofs and programs. Finally, we showcase an original correspondence between natural deduction and the sequent calculus, through the transformation of the corresponding type checking functional programs: we show, using off-the-shelf program transformations, that the latter is the accumulator-passing version of the former.</p></blockquote> <p>Now that this is over with, I can go back to all the activities I’ve been missing so much these past months (years?); one of them is blogging. So stay tuned for some OCaml fun, serious proof theory and terrible hacks. You will hopefully read shortly about:</p> <ul> <li><span style="line-height: 13px;">the compilation of ML pattern-matching, explained as logically principled as I can,</span></li> <li>how you can write a <em>gensym </em>in OCaml without using the <strong>mutable</strong> keywords,<em><br/> </em></li> <li>handling syntax with binders in ML</li> <li>… and more!</li> </ul> <p>À bientôt!</p> <br/> <a href="http://feeds.wordpress.com/1.0/gocomments/syntaxexclamation.wordpress.com/354/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/comments/syntaxexclamation.wordpress.com/354/" alt="" border="0"/></a> <img src="http://stats.wordpress.com/b.gif?host=syntaxexclamation.wordpress.com&amp;blog=14690639&amp;post=354&amp;subd=syntaxexclamation&amp;ref=&amp;feed=1" alt="" height="1" border="0" width="1"/><a onclick="switchContent('post4','post3')" class="btn" href="#0b58eb07ad0a4588a161e55b19c30dce">Hide</a></div></span>
<a name="ecfd83ba4307c5aba213e1ca667b2244"></a><span class="rss-header"><span class="rss-title"><a href="http://gallium.inria.fr/blog/non-determinism-and-sequence-points-in-c"> Non-determinism and sequence points in C</a></span>&nbsp;&mdash;&nbsp;<span class="rss-author">GaGallium</span>, <span class="rss-date">18 Apr 2013</span></span><span class="rss-description"><div id="post5"><p>In a <a href="http://gallium.inria.fr/blog/bytes-and-pointers-in-compcert/">previous post</a> I described two extensions to CompCert's memory model that I implemented during my visit at Gallium. Another thing I have been working on is non-determinism and sequence points in C. As some of you will know, the evaluation order of expressions is not specified by the C standard. This allows a compiler to pick its preferred evaluation strategy. To allow a compiler also to delay side-effects, and to interleave evaluation, the allowed non-determinism is slightly restricted.</p> <p>Let us take a look at the following example.</p> <pre><code>int x = 0; int main() { printf("%d ", (x = 3) + (x = 4)); printf("%d\n", x); return 0; }</code></pre> <a onclick="switchContent('post5','post6')" class="btn" href="#ecfd83ba4307c5aba213e1ca667b2244">Read more...</a></div><div id="post6" style="display: none"><p>In a <a href="http://gallium.inria.fr/blog/bytes-and-pointers-in-compcert/">previous post</a> I described two extensions to CompCert's memory model that I implemented during my visit at Gallium. Another thing I have been working on is non-determinism and sequence points in C. As some of you will know, the evaluation order of expressions is not specified by the C standard. This allows a compiler to pick its preferred evaluation strategy. To allow a compiler also to delay side-effects, and to interleave evaluation, the allowed non-determinism is slightly restricted.</p> <p>Let us take a look at the following example.</p> <pre><code>int x = 0; int main() { printf("%d ", (x = 3) + (x = 4)); printf("%d\n", x); return 0; }</code></pre> <p>By considering all possible evaluation paths, one would naively expect this program to print either <code>7 4</code> or <code>7 3</code>, depending on whether <code>x = 3</code> or <code>x = 4</code> is evaluated first. However, the C standard does not allow an object to be modified more than once (or being read after being modified) between two <em>sequence points</em>. A sequence point occurs at the end <code>;</code> of a full expression, before a function call, after the first operand of the conditional <code>? :</code> operator, and in some other situations. Therefore, this program gives rise to a <em>sequence point violation</em> and exhibits <em>undefined behavior</em>. It thus may do literally anything, and indeed, <code>gcc -O1</code> (version <code>4.7.2</code>) prints <code>8 4</code> which does not correspond to one of the evaluation paths.</p> <p>Notice that non-determinism in C is even more unrestrained than some may think. That the evaluation order in <code>e1 + e2</code> is unspecified, does not mean that either <code>e1</code> or <code>e2</code> will be evaluated entirely before the other. Instead, it means that evaluation can be interleaved; first a part of <code>e1</code> could be evaluated, then a part of <code>e2</code>, then another part of <code>e1</code>, ... Hence, the following program is also allowed to print <code>bac</code>.</p> <pre><code>int main() { printf("a") + (printf("b") + printf("c")); return 0; }</code></pre> <h4 id="dealing-with-sequence-point-violations">Dealing with sequence point violations</h4> <p>The executable C semantics by <a href="http://code.google.com/p/c-semantics/">Chucky Ellison and Grigore Rosu</a> provides a nice tool to explore non-deterministic behavior in C and is able to dynamically detect sequence point violations. Since CompCert also has an interpreter, I created an extension of CompCert that allows the interpreter to be used to detect sequence point violations as well.</p> <p>As <a href="http://compcert.inria.fr/doc/html/Csem.html">CompCert C</a> already supports non-deterministism in expressions, it was fairly easy to extend Ellison and Rosu's approach to sequence point violations to CompCert. I added a set <code>L</code> of <em>locked</em> locations to CompCert's <a href="http://compcert.inria.fr/doc/html/Csem.html#state">execution state</a>. Whenever a write is performed, the address of that write is added to set <code>L</code>. If a read or write to an address contained in <code>L</code> is performed, it results in undefined behavior. At a sequence point, the set <code>L</code> is emptied.</p> <p>Since CompCert picks a reduction strategy in one of its first compilation passes, and my extension removes the sequence point restriction quickly after, it did effect the rest of the compilation passes of CompCert. Since it remains an open (and not easy) question how CompCert could take advantage of sequence point violations to perform more aggressive optimizations, my extension is not part of the official CompCert code.</p> <p>Many tools for verifying C programs also determinize programs in one of their first passes, and let the user verify the determinized program. When solely targeting a specific compiler (for example CompCert) for which the evaluation strategy is known, and which is known not to do any interleaving or delaying of side-effects, this approach works. But to claim something about the correctness of the program when being compiled with another compiler, this approach does not work, even if all possible evaluation paths are considered (see the counter example in <code>gcc</code> above).</p> <p>Some tools will perform syntactical checks to exclude some sequence points violations. But as it is undecidable whether a sequence point violation may occur, determinization, possibly combined with such checks, is either unsound (slides 13 and 15 of <a href="http://fsl.cs.uiuc.edu/pubs/ellison-rosu-2012-popl-slides.pdf">Ellison and Rosu's POPL 2012 talk</a> present some examples in existing tools), or will exclude many valid C programs.</p> <p>To indicate why this is undecidable, consider:</p> <pre><code>int* f() { \\ arbitrary code } int x = 0; int main() { int *p = f(); printf("%d\n", (x = 3) + (*p = 10)); return 0; }</code></pre> <p>Deciding whether a sequence point violation occurs is equivalent to deciding whether <code>f()</code> returns a pointer equal to <code>&amp;x</code>.</p> <p>As I wish to use my <a href="http://robbertkrebbers.nl/research/ch2o">own semantics</a> not only to verify programs compiled by CompCert, having better means of reasoning about programs with non-determinism and sequence points is needed.</p> <h4 id="an-axiomatic-semantics">An axiomatic semantics</h4> <p>As a step towards taking non-determinism and sequence points seriously, I developed an axiomatic semantics for expressions that takes these issues into account. The key idea of my axiomatic semantics is that non-deterministic expression evaluation corresponds to (a weak form) of concurrency. Separation logic is well capable of dealing with concurrency, so my rule for the addition operator is based on the rule for parallel composition.</p> <pre><code>{ Pl } el { Ql } { Pr } er { Qr } -------------------------------------- { Pl * Ql } el + er { Pr * Qr }</code></pre> <p>The idea is that, if the memory can be split up (using the separating conjunction <code>*</code>) into two disjoint parts, in which <code>el</code> respectively <code>er</code> can be evaluated safely, then <code>el + er</code> can be evaluated safely in the whole memory.</p> <p>Obviously, as stated, this rule is too simple for the addition operator. First of all, expressions yield a result, so the post-condition should not just be an assertion, but should also tell something about the result. To that end, we let the post-condition <code>Q</code> be a function from values to assertions. Intuitively, <code>{ P } e { Q }</code> means that if evaluation of <code>e</code> yields a value <code>v</code>, then the assertion <code>Q v</code> should hold afterward.</p> <p>Second of all, we have to take care of undefined behavior by integer overflow. This gives rise to the following revised rule:</p> <pre><code>{ Pl } el { Ql } { Pr } er { Qr } ∀ vl vr, (Ql vl * Qr vr) → (vl + vr ⇓-) ----------------------------------------------------------------------------- { Pl * Pr } el + er { λ v', ∃ vl vr, vl + vr ⇓ v' ∧ (Ql vl * Qr vr) }</code></pre> <p>Here, the assertion <code>vl + vr ⇓-</code> ensures that adding <code>vl</code> to <code>vr</code> does not overflow, and the assertion <code>vl + vr ⇓ v'</code> states that <code>v'</code> is the result of adding <code>vl</code> to <code>vr</code>.</p> <p>In order to make this rule sufficiently powerful, a strong version of the separating conjunction <code>*</code> is needed. After all, it should be possible to prove the correctness of programs like <code>x = x + x</code>. Fractional permissions allow memory cells that are solely used for reading to be used in both operands of the separating conjunction <code>*</code>.</p> <p>To take care of sequence point violations, we include a special <em>locked</em> permission. In order to perform a write or a read, one has to prove that the permission of the location to be written to (respectively read from) is not locked. This is captured by the following rule for assignments.</p> <pre><code> Write ⊆ perm_kind γ { Pl } el { Ql } { Pr } er { Qr } ∀ a v, (Ql a * Qr v) → (a ↦{γ} - * R a v) ------------------------------------------------------------------------------- { Pl * Pr } el ::= er { λ v, ∃ a, a ↦{lock γ} v * R a v }</code></pre> <p>As standard in separation logic with permissions, the assertion of a singleton memory <code>e1 ↦ e2</code> is extended with its permission <code>γ</code>, resulting in <code>e1 ↦{γ} e2</code>. Hence, this rule requires the permission of the memory cell to be sufficient before the write, and will lock the memory cell after.</p> <p>In the operational semantics, a sequence point results in the set of locked locations being emptied. Xavier Leroy helpfully remarked to me that "a sequence point is just an assignment to the dummy variable of locked locations". This is captured by the following rule.</p> <pre><code>{ P } e { λ v, P' v ▷ } { is_true P' } el { Q } { is_false P' } er { Q } ----------------------------------------------------------------------------- { P } e ? el : er {{ Q }}</code></pre> <p>Here the assertion <code>R ▷</code> empties the set of locked locations, and its semantic interpretation is basically an assignment of the empty set to the set of locked locations.</p> <h4 id="adapting-the-operational-semantics">Adapting the operational semantics</h4> <p>Unfortunately, the way my axiomatic semantics deals with sequence point violations does not correspond well to the operational semantics. In the operational semantics, a sequence point results into the set of locked locations being emptied <em>globally</em>, whereas the axiomatic semantics only talks about a <em>local part</em> of the memory.</p> <p>Hence, I defined another operational semantics that make sequence points local. Instead of unlocking all locations at a sequence point, it only unlocks locations that have been locked in subexpressions of the expression where the sequence point occurred. To achieve this, values <code>val@{Ω} v</code> of the expression syntax are annotated with a set of locked locations <code>Ω</code>. Initially, all values in the program should have the empty set of locked locations. Whenever a write occurs, not only is the written location locked in memory, it is also added to set <code>Ω</code> of the specific subexpression where the write occurred. On a sequence point, just the annotated locations <code>Ω</code> in the specific subexpression where the sequence point occurred are unlocked. Connectives without a sequence point just take the union of the locked locations of their children.</p> <p>For example, my operational semantics contains the following rules</p> <pre><code>ptr@{Ωl} b := val@{Ωr} v, m ⇒ val@{ {[b]} ∪ Ωl ∪ Ωr} v, lock b (&lt;[b:=v]&gt;m) provided that is_writable m b val@{Ω} v ? el : er, m ⇒ er, unlock Ω m provided that value_false v</code></pre> <p>As one can see here, the rule for the assignment not only locks the location <code>b</code>, it also adds it to the locations to be unlocked in the expression. Notice that the predicate <code>is_writable m b</code> also ensures that <code>b</code> is not locked.</p> <p>This way of dealing with sequence points is more restrictive than Ellison/Rosu's approach. For example, my semantics makes</p> <pre><code>int x, y, *p = &amp;y; int f() { if (x) { p = &amp;x; } return 0; } int main() { int r = (x = 1) + (*p = 2) + f(); }</code></pre> <p>undefined. The path that leads to undefined behavior is 1.) <code>x = 1</code> 2.) call <code>f</code> which changes <code>p</code> to <code>&amp;x</code>, 3.) <code>*p = 1</code>. Here, the lock of <code>&amp;x</code> survives the function call. In the semantics of Ellison/Rosu, this program has defined behavior, as the sequence point before the function call destroys all locks, so also the lock of <code>&amp;x</code>.</p> <p>I am still wondering whether my semantics excludes any non artificial programs. Keep in mind that the following program has defined (but non-deterministic) behavior in my operational semantics (as one would expect).</p> <pre><code>int x; int f(int y) { return (x = y); } int main(void) { printf("%d\n", f(3) + f(4)); return 0; }</code></pre> <h4 id="future-work">Future work</h4> <p>Currently I have two versions of an operational semantics for sequence points: one as an extension of CompCert, and a more restrictive version as part of my own development. For the last one I also have an axiomatic semantics (and a formally verified soundness proof).</p> <p>I intend to prove that CompCert is an instance of my semantics in future work. In my <a href="http://gallium.inria.fr/blog/bytes-and-pointers-in-compcert/">previous post</a> I described two extensions of CompCert that will be needed for this correspondence.</p> <p>An important next step is to make the axiomatic more suitable to be used for a verification condition generator.</p> <h4 id="sources">Sources</h4> <p>The sources of my extensions to CompCert can be found at my <a href="http://github.com/robbertkrebbers/compcert">github repository</a>, and the sources and documentation of my axiomatic semantics can be found <a href="http://robbertkrebbers.nl/research/ch2o">here</a>.</p><a onclick="switchContent('post6','post5')" class="btn" href="#ecfd83ba4307c5aba213e1ca667b2244">Hide</a></div></span>
<a name="46306361a7a9baf98279517764197cac"></a><span class="rss-header"><span class="rss-title"><a href="http://alan.petitepomme.net/cwn/2013.04.16.html"> Caml Weekly News, 16 Apr 2013</a></span>&nbsp;&mdash;&nbsp;<span class="rss-author">Caml Weekly News</span>, <span class="rss-date">16 Apr 2013</span></span><span class="rss-description">Functional Programming at Jane Street / try...finally , threads, stack-tracebacks .... in ocaml / Build number and date in OCaml? / Microsoft-funded PhD opportunity (software/ system verification) / Merlin 1.0 released / modified error messages for ocamlc / OCaml 2013 - Call for presentations / Other Caml News</span>
<a name="b2b9ee3ab8479dbfb7e149c3baca1807"></a><span class="rss-header"><span class="rss-title"><a href="http://blog.opalang.org/2013/04/opa-111-is-coming-in-few-days.html"> Opa 1.1.1 is coming in a few days</a></span>&nbsp;&mdash;&nbsp;<span class="rss-author"><span id="ocaml_2">Opa &#9001;noreply<abbr title="(at) &rarr; @">(at)</abbr>blogger.com (HB)&#9002;</span><script type="text/javascript"><!--;
local = "noreply";
h = "blogger.com (HB)";
hq = "blogger.com%20(HB)";
document.getElementById("ocaml_2").innerHTML = '<a href="mailto:' + local + '@' + hq + "\" >Opa<\/a>";
//--></script></span>, <span class="rss-date">11 Apr 2013</span></span><span class="rss-description">This is a short update to tell that the Opa 1.1.1 release is finally around the corner as we are building packages. Of course, if you're impatient, you can build from <a href="https://github.com/MLstate/opalang/commits/master">sources</a>. The release brings back the compatibility with the latest releases of NodeJS, now recommending the latest 0.10.3 version.<br/> <br/> Since our last blog posts detailed what's new in Opa, many things have changed and have been updated:<br/> <br/> <ul> <li>Foreign-function calls are easier than ever and Opa now supports npm. </li> <li>Another major feature is the support of Postgres, our first supported SQL database. Switching your runtime from MongoDB to Postgres is extremely easy. </li> </ul> <br/> We also will try to keep the blog updated a bit more often, expect at least a major post monthly. If you want to share with the Opa community what you are building, <span id="ocaml_3">contact us &#9001;contact<abbr title="(at) &rarr; @">(at)</abbr>opalang.org&#9002;</span><script type="text/javascript"><!--;
local = "contact";
h = "opalang.org";
hq = "opalang.org";
document.getElementById("ocaml_3").innerHTML = '<a href="mailto:' + local + '@' + hq + "\" >contact us<\/a>";
//--></script> to submit a guest post.<br/> <br/> And as a reminder, you can order the Opa book from its publisher O'Reilly or Amazon, which is the best resource to learn the technology.<br/> <br/> See you soon!</span>
<script type="text/javascript">function switchContent(id1,id2) {
     // Get the DOM reference
     var contentId1 = document.getElementById(id1);
     var contentId2 = document.getElementById(id2);
     // Toggle
     contentId1.style.display = "none";
     contentId2.style.display = "block";
     }</script></div>

  
    </div>

    
    <br/>
    <hr/>
    <div id="footer">
      Contribute to this project!
      Find us on <a href="https://github.com/ocaml/ocaml.org">Github</a>.
    </div>
    <span title=".././img/ = image directory from the base of the site"></span>


    
    
    

    <script src="http://platform.twitter.com/widgets.js" type="text/javascript"></script>
    <script src=".././js/jquery-1.8.0.min.js"></script>
    
    <script src=".././js/bootstrap.js"></script>

    <script type="text/javascript">
      var _gaq = _gaq || []; _gaq.push(['_setAccount', 'UA-22552764-2']); _gaq.push(['_trackPageview']);
      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>

    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-37808023-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();

    </script>

</body></html>
