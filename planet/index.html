<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="utf-8"/>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
    
    <meta content="IE=8" http-equiv="X-UA-Compatible"/>
    <title>OCaml :: OCaml Planet</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <meta content="Ashish Agarwal, Esther Baruk, Christophe Troestler and many contributors" name="author"/>
    <meta content="" name="description"/>
    <meta content="" name="keywords"/>
    <meta content="OCaml (Weberizer)" name="generator"/>

    <link href="http://ocaml.org/img/favicon.ico" rel="shortcut icon"/>
    <link rel="stylesheet" href=".././css/bootstrap.css"/>
    <link href=".././css/ocaml.css" media="all" type="text/css" rel="stylesheet"/>
    <link rel="stylesheet" href=".././css/bootstrap-responsive.css"/>

    
    

    <meta content="OCaml Planet" property="og:title"/>
    <meta content="non_profit" property="og:type"/>

    <meta content="all" name="robots"/>
  </head>
  <body>
    <div id="header">
      <div class="top">
      </div>
      <div class="bottom">
      </div>
    </div>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
	  
          <a data-target=".nav-collapse" data-toggle="collapse" class="btn btn-navbar">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a href=".././" class="brand">OCaml</a>

          <div class="nav-collapse">
            <ul class="nav">
	      <li class="dropdown">
  <a href="../#" class="dropdown-toggle" data-toggle="dropdown">
    Discover
    <b class="caret"></b>
  </a>
  <ul class="dropdown-menu">
    <li><a href="../description.html">What is OCaml?</a></li>
    <li><a href="http://try.ocamlpro.com/">Try it Online</a></li>
    <li><a href="../taste.html">100 Lines of OCaml</a></li>
    <li><a href="../success.html">Success Stories</a></li>
    <li><a href="../companies.html">Who Is Using It?</a></li>
    <li><a href="http://pleac.sourceforge.net/pleac_ocaml/">Pleac</a></li>
    <li><a href="http://rosettacode.org/wiki/Category:OCaml">Rosetta</a>
        <a href="http://langref.org/ocaml">langref.org</a></li>
  </ul>
</li>
<li class="dropdown">
  <a href="../#" class="dropdown-toggle" data-toggle="dropdown">
    Learn
    <b class="caret"></b></a>
  <ul class="dropdown-menu">
    <li><a href="../install.html">Install</a></li>
    <li><a href="../tutorials/">Tutorials</a></li>
    <li><a href="../faq.html">FAQ</a></li>
    <li><a href="../books.html">Books</a></li>
    <li><a href="../videos.html">Videos</a></li>
    <li><a href="../papers.html">Papers</a></li>
  </ul>
</li>
<li class="dropdown">
  <a href="../#" class="dropdown-toggle" data-toggle="dropdown">Use
    <b class="caret"></b></a>
  <ul class="dropdown-menu">
    <li><a href="../releases/">Releases</a></li>
    <li><a href="../libraries.html">Libraries</a></li>
    <li><a href="../dev_tools.html">Development Tools</a></li>
    <li><a href="http://caml.inria.fr/pub/docs/manual-ocaml/">User Manual</a></li>
    <li><a href="../cheat_sheets.html">Cheat Sheets</a></li>
    <li><a href="http://search.ocaml.jp/">OCaml API Search</a></li>
    <li><a href="http://forge.ocamlcore.org/">Forge</a></li>
    <li><a href="https://github.com/languages/OCaml">GitHub</a></li>
    <li><a href="https://bitbucket.org/repo/all?name=ocaml">Bitbucket</a></li>
    <li><a href="http://gitorious.org/search?page=1&q=ocaml">Gitorious</a></li>
  </ul>
</li>
<li class="dropdown">
  <a href="../#" class="dropdown-toggle" data-toggle="dropdown">Community
    <b class="caret"></b></a>
  <ul class="dropdown-menu">
    <li><a href="../mailing_lists.html">Mailing Lists</a></li>
    <li><a href="../planet/">Blogs</a></li>
    <li><a href="../meetings/">Meetings</a></li>
    <li><a href="irc://irc.freenode.net/ocaml">IRC</a></li>
    <li><a href="http://stackoverflow.com/questions/tagged?tagnames=ocaml">Stack Overflow</a></li>
    <li><a href="http://www.reddit.com/r/ocaml/">Reddit</a></li>
    <li><a href="../support.html">Commercial Support</a></li>
  </ul>
</li>
<li class="dropdown">
  <a href="../#" class="dropdown-toggle" data-toggle="dropdown">More
    <b class="caret"></b></a>
  <ul class="dropdown-menu">
    <li><a href="http://caml.inria.fr/mantis/">Mantis Bug Tracker</a></li>
    <li><a href="../caml-light/">Caml Light</a></li>
    <li><a href="../logos.html">Logos</a></li>
  </ul>
</li>

            </ul>
	    <form action="http://www.google.com/search" method="get" class="navbar-search pull-right">
	      <input placeholder="Search" class="search-query" name="q" type="text"/>
	      <input value="site:http://ocaml.org/" name="q" type="hidden"/>
	    </form>
            
	    
          </div>
        </div>
      </div>
    </div>

    <div class="container">
      <span class="navigation-bar">
	<a href="./../">Home</a><span class="separation"><img src=".././img/right_arrow.png" alt="&gt;"/></span>OCaml Planet
	<span id="language">
	  <span class="horizontal-toolbar"><span class="open-bracket">[</span><span class="current-url">En</span><span class="close-bracket">]</span></span>
	</span>
      </span>

      

    <h1>OCaml Planet</h1>

    <p>The OCaml Planet aggregates various blogs from the OCaml
    community.  It is kindly provided
    by <a href="http://www.ocamlcore.com/">OCamlCore</a>.  If you
    would like to be added, read
    the <a href="http://www.ocamlcore.org/planet/">Planet
    subscription HOWTO</a>.</p>

    <br/>
    <div style="float: right; margin-right: 0; margin-top: 0" class="span2 planet-subscriptions"><em>Subscriptions</em>
      <ul><li><a href="http://alexleighton.tumblr.com/tagged/ocaml/rss">Alex Leighton</a></li><li><a href="http://feeds.feedburner.com/amirmc-ocaml">Amir Chaudhry</a></li><li><a href="http://andreiformiga.com/blog/?cat=5&feed=rss2">Andrei Formiga</a></li><li><a href="http://math.andrej.com/feed/">Andrej Bauer</a></li><li><a href="http://anil.recoil.org/feeds/atom.xml">Anil Madhavapeddy</a></li><li><a href="http://ashishagarwal.org/tag/ocaml/feed/">Ashish Agarwal</a></li><li><a href="http://www.blogger.com/feeds/7617521785419311079/posts/default">Cameleon news</a></li><li><a href="http://caml.inria.fr/news.en.rss">Caml INRIA</a></li><li><a href="http://camlspotter.blogspot.com/feeds/posts/default?alt=rss">Caml Spotting</a></li><li><a href="http://alan.petitepomme.net/cwn/cwn.rss">Caml Weekly News</a></li><li><a href="http://coherentpdf.com/blog/?tag=ocaml&feed=rss">Coherent Graphics</a></li><li><a href="http://coq.inria.fr/news/feed">Coq</a></li><li><a href="http://erratique.ch/feeds/news.atom">Daniel Bünzli</a></li><li><a href="http://nleyten.com:82/feed/tag/ocaml/atom">Dario Teixeira</a></li><li><a href="http://www.blogger.com/feeds/17133288/posts/default/-/ocaml">David Baelde</a></li><li><a href="http://blog.bentobako.org/index.php?feed/tag/ocaml/atom">David Mentré</a></li><li><a href="http://dutherenverseauborddelatable.wordpress.com/category/ocaml/feed/">David Teller</a></li><li><a href="http://www.examachine.net/blog/cat/ocaml/feed/">Eray Özkural</a></li><li><a href="http://www.mega-nerd.com/erikd/Blog/index.rss20">Erik de Castro Lopo</a></li><li><a href="http://blog.emillon.org/feeds/ocaml.xml">Etienne Millon</a></li><li><a href="http://frama-c.com/rss.xml">Frama-C</a></li><li><a href="http://functionaljobs.com/jobs/search/?q=ocaml&format=rss">Functional Jobs</a></li><li><a href="http://gallium.inria.fr/blog/index.rss">GaGallium</a></li><li><a href="http://gaiustech.wordpress.com/category/ocaml/feed/">Gaius Hammond</a></li><li><a href="http://blog.camlcity.org/blog/rss">Gerd Stolpmann</a></li><li><a href="http://jobs.github.com/positions.atom?description=ocaml&location=">Github OCaml jobs</a></li><li><a href="http://www.wisdomandwonder.com/tag/OCaml/feed">Grant Rettke</a></li><li><a href="http://hongboz.wordpress.com/feed/">Hong bo Zhang</a></li><li><a href="http://blog.incubaid.com/tag/ocaml/feed/">Incubaid Research</a></li><li><a href="http://ambassadortothecomputers.blogspot.com/feeds/posts/default?alt=rss">Jake Donham</a></li><li><a href="http://scattered-thoughts.net/atom.xml">Jamie Brandon</a></li><li><a href="https://ocaml.janestreet.com/?q=rss.xml">Jane Street</a></li><li><a href="http://lpw25.net/rss.xml">Leo White</a></li><li><a href="http://www.lexifi.com/blogs/ocaml/feed">LexiFi</a></li><li><a href="http://newblog.0branch.com/rss.xml">Marc Simpson</a></li><li><a href="http://syntaxexclamation.wordpress.com/tag/ocaml/feed/">Matthias Puech</a></li><li><a href="http://www.blogger.com/feeds/5888658295182480819/posts/default">Matías Giovannini</a></li><li><a href="">Mihamina Rakotomandimby</a></li><li><a href="http://mcclurmc.wordpress.com/feed/">Mike McClurg</a></li><li><a href="http://nyc-ocaml.posterous.com/rss.xml">NYC OCaml</a></li><li><a href="http://ocaml-book.com/blog?format=rss">OCaml Book</a></li><li><a href="http://forge.ocamlcore.org/export/rss_sfnews.php">OCamlCore Forge News</a></li><li><a href="http://forge.ocamlcore.org/export/rss_sfprojects.php">OCamlCore Forge Projects</a></li><li><a href="http://www.ocamlcore.com/wp/?feed=rss2&amp;language=en&#038;language=en">OCamlCore.com</a></li><li><a href="http://www.ocamlpro.com/feed/atom.xml">OCamlPro</a></li><li><a href="http://odns.tuxfamily.org/feed/">ODNS project</a></li><li><a href="http://ox.tuxfamily.org/feed/">Ocaml XMPP project</a></li><li><a href="http://ocsigen.org/news.atom">Ocsigen project</a></li><li><a href="http://www.blogger.com/feeds/2073503406800427577/posts/default">Opa</a></li><li><a href="http://www.openmirage.org/blog/atom.xml">Open Mirage</a></li><li><a href="http://functional-orbitz.blogspot.com/feeds/posts/default/-/planetocaml?alt=rss">Orbitz</a></li><li><a href="http://www.donadeo.net/facets/programming-languages/objective-caml/feed/">Paolo Donadeo</a></li><li><a href="https://mancoosi.org/~abate/taxonomy/term/5/0/feed">Pietro Abate</a></li><li><a href="http://rwmj.wordpress.com/tag/ocaml/feed/">Richard Jones</a></li><li><a href="http://blog.rastageeks.org/spip.php?page=rss&id_mot=2">Romain Beauxis</a></li><li><a href="http://seb.mondet.org/blog/feed/ocaml.rss">Sebastien Mondet</a></li><li><a href="http://upsilon.cc/~zack/tags/ocaml/index.rss">Stefano Zacchiroli</a></li><li><a href="http://le-gall.net/sylvain+violaine/blog/index.php?feed/tag/ocaml/atom">Sylvain Le Gall</a></li><li><a href="http://caml.inria.fr/hump.rss">The Caml Humps</a></li><li><a href="http://www.blogger.com/feeds/6115529230232389198/posts/default">Till Varoquaux</a></li><li><a href="http://y-node.com/blog/feeds/latest/">y-node</a></li></ul>

      <a href="http://planet.ocaml.org/rss20.xml"><img src=".././img/rss20.png"/></a>
      <a href="http://planet.ocaml.org/opml.xml"><img src=".././img/opml.png"/></a>
    </div>
    <div class="planet"><a name="65f75a9edcd4cc25315912e7a74d1dc8"></a><span class="rss-header"><span class="rss-title"><a href="http://gaiustech.wordpress.com/?p=2281"> Strange Datetime Problem</a></span>&nbsp;&mdash;&nbsp;<span class="rss-author">Gaius Hammond</span>, <span class="rss-date">17 Aug 2013</span></span><span class="rss-description"><div id="post1"><p>While working on my unit tests, I came across a sporadic failure in inserting and selecting Datetimes to the database, so I wrote a quick test harness to see what’s going on:</p>
<pre class="brush: fsharp; title: ; notranslate">open Ociml
open Printf

let () = 
  let lda =  oralogon "ociml_test/ociml_test" in
  let sth = oraopen lda in
  for i = 0 to 100 do
    orasql sth "truncate table test_date";
    let d = (Datetime (localtime (Random.float (time() *. 2.)))) in
    oraparse sth "insert into test_date values (:1)";
    orabind sth (Pos 1) d;
    oraexec sth;
    oracommit lda;
    orasql sth "select * from test_date";
    let rs = orafetch sth in
    match (rs.(0) = d) with
    |true -&gt; print_endline (sprintf "Inserted %s, got %s, OK" (orastring d) (orastring rs.(0)))
    |false -&gt; print_endline (sprintf "Inserted %s, got %s &lt;-------- FAIL" (orastring d) (orastring rs.(0)))
  done
</pre>
<p>This fails about 3% of the time, for reasons I cannot fathom, there seems to be no correlation with summer time. Here’s a set of results incase anyone else can figure it out:</p>
<a onclick="switchContent('post1','post2')" class="btn" href="#65f75a9edcd4cc25315912e7a74d1dc8">Read more...</a></div><div id="post2" style="display: none"><p>While working on my unit tests, I came across a sporadic failure in inserting and selecting Datetimes to the database, so I wrote a quick test harness to see what’s going on:</p>
<pre class="brush: fsharp; title: ; notranslate">open Ociml
open Printf

let () = 
  let lda =  oralogon "ociml_test/ociml_test" in
  let sth = oraopen lda in
  for i = 0 to 100 do
    orasql sth "truncate table test_date";
    let d = (Datetime (localtime (Random.float (time() *. 2.)))) in
    oraparse sth "insert into test_date values (:1)";
    orabind sth (Pos 1) d;
    oraexec sth;
    oracommit lda;
    orasql sth "select * from test_date";
    let rs = orafetch sth in
    match (rs.(0) = d) with
    |true -&gt; print_endline (sprintf "Inserted %s, got %s, OK" (orastring d) (orastring rs.(0)))
    |false -&gt; print_endline (sprintf "Inserted %s, got %s &lt;-------- FAIL" (orastring d) (orastring rs.(0)))
  done
</pre>
<p>This fails about 3% of the time, for reasons I cannot fathom, there seems to be no correlation with summer time. Here’s a set of results incase anyone else can figure it out:</p>
<pre class="brush: plain; collapse: true; gutter: false; light: false; title: Result of running the above script; toolbar: true; notranslate">gaius@debian7:~/Projects/ociml$ o
        Objective Caml version 3.12.1

	OCI*ML 0.3 built against OCI 11.2

not connected &gt; #use "tests/date_grinder.ml";;
Inserted 31-Jul-1993 20:21:44, got 31-Jul-1993 20:21:44, OK
Inserted 01-Mar-2022 09:17:53, got 01-Mar-2022 09:17:53, OK
Inserted 18-Jan-1995 05:48:57, got 18-Jan-1995 05:48:57, OK
Inserted 24-Jul-2024 14:10:44, got 24-Jul-2024 14:10:44, OK
Inserted 12-Jan-1991 12:32:01, got 12-Jan-1991 12:32:01, OK
Inserted 03-Nov-2018 18:26:46, got 03-Nov-2018 18:26:46, OK
Inserted 13-Dec-1901 20:45:52, got 13-Dec-1901 20:45:52, OK
Inserted 08-Jan-2036 17:58:34, got 08-Jan-2036 17:58:34, OK
Inserted 31-May-2001 07:29:34, got 31-May-2001 07:29:34, OK
Inserted 13-Dec-1901 20:45:52, got 13-Dec-1901 20:45:52, OK
Inserted 07-Aug-1986 04:59:54, got 07-Aug-1986 04:59:54, OK
Inserted 08-Mar-2036 15:19:15, got 08-Mar-2036 15:19:15, OK
Inserted 23-Mar-1975 09:36:54, got 23-Mar-1975 09:36:54, OK
Inserted 26-Aug-1998 10:39:15, got 26-Aug-1998 10:39:15, OK
Inserted 23-Jan-1985 13:23:09, got 23-Jan-1985 13:23:09, OK
Inserted 13-Dec-1901 20:45:52, got 13-Dec-1901 20:45:52, OK
Inserted 02-Dec-2024 12:06:13, got 02-Dec-2024 12:06:13, OK
Inserted 13-Dec-1901 20:45:52, got 13-Dec-1901 20:45:52, OK
Inserted 20-Mar-1985 11:47:15, got 20-Mar-1985 11:47:15, OK
Inserted 25-Oct-1976 20:16:19, got 25-Oct-1976 20:16:19, OK
Inserted 29-Dec-1972 23:46:42, got 29-Dec-1972 23:46:42, OK
Inserted 17-Aug-1993 06:41:06, got 17-Aug-1993 06:41:06, OK
Inserted 26-Sep-2037 23:58:20, got 26-Sep-2037 23:58:20, OK
Inserted 15-Aug-1994 07:44:57, got 15-Aug-1994 07:44:57, OK
Inserted 13-Dec-1901 20:45:52, got 13-Dec-1901 20:45:52, OK
Inserted 13-Sep-2022 23:14:04, got 13-Sep-2022 23:14:04, OK
Inserted 23-Mar-2031 15:29:59, got 23-Mar-2031 15:29:59, OK
Inserted 27-Dec-1983 21:15:25, got 27-Dec-1983 21:15:25, OK
Inserted 29-Feb-2032 06:55:03, got 29-Feb-2032 06:55:03, OK
Inserted 17-Jan-2019 10:58:15, got 17-Jan-2019 10:58:15, OK
Inserted 13-Dec-1901 20:45:52, got 13-Dec-1901 20:45:52, OK
Inserted 09-Oct-2031 21:33:34, got 09-Oct-2031 21:33:34, OK
Inserted 21-Aug-2023 20:31:46, got 21-Aug-2023 20:31:46, OK
Inserted 20-Sep-1992 16:30:21, got 20-Sep-1992 16:30:21, OK
Inserted 11-Nov-1970 10:00:13, got 11-Nov-1970 09:00:13 &lt;-------- FAIL
Inserted 24-Feb-1984 20:46:46, got 24-Feb-1984 20:46:46, OK
Inserted 19-May-2005 00:45:39, got 19-May-2005 00:45:39, OK
Inserted 22-Apr-1986 05:51:55, got 22-Apr-1986 05:51:55, OK
Inserted 10-Apr-1987 11:32:32, got 10-Apr-1987 11:32:32, OK
Inserted 28-May-2016 15:43:58, got 28-May-2016 15:43:58, OK
Inserted 13-Dec-1901 20:45:52, got 13-Dec-1901 20:45:52, OK
Inserted 11-Feb-2033 01:03:55, got 11-Feb-2033 01:03:55, OK
Inserted 10-Jul-2031 19:50:26, got 10-Jul-2031 19:50:26, OK
Inserted 13-Dec-1901 20:45:52, got 13-Dec-1901 20:45:52, OK
Inserted 23-Nov-1982 04:12:36, got 23-Nov-1982 04:12:36, OK
Inserted 13-Dec-1901 20:45:52, got 13-Dec-1901 20:45:52, OK
Inserted 11-May-2009 21:59:43, got 11-May-2009 21:59:43, OK
Inserted 13-Dec-1901 20:45:52, got 13-Dec-1901 20:45:52, OK
Inserted 07-Jun-2007 01:11:58, got 07-Jun-2007 01:11:58, OK
Inserted 13-Dec-1901 20:45:52, got 13-Dec-1901 20:45:52, OK
Inserted 14-Mar-2002 06:34:51, got 14-Mar-2002 06:34:51, OK
Inserted 09-Nov-2009 06:40:03, got 09-Nov-2009 06:40:03, OK
Inserted 30-Jul-2037 06:55:44, got 30-Jul-2037 06:55:44, OK
Inserted 26-Nov-2030 21:14:53, got 26-Nov-2030 21:14:53, OK
Inserted 05-Sep-1996 15:14:24, got 05-Sep-1996 15:14:24, OK
Inserted 07-Apr-1980 11:34:26, got 07-Apr-1980 11:34:26, OK
Inserted 02-Jan-2037 18:55:00, got 02-Jan-2037 18:55:00, OK
Inserted 14-Mar-1977 15:07:19, got 14-Mar-1977 15:07:19, OK
Inserted 16-Oct-1995 01:51:15, got 16-Oct-1995 01:51:15, OK
Inserted 04-Aug-1990 06:50:10, got 04-Aug-1990 06:50:10, OK
Inserted 13-Dec-1901 20:45:52, got 13-Dec-1901 20:45:52, OK
Inserted 23-May-2021 16:00:23, got 23-May-2021 16:00:23, OK
Inserted 17-Aug-1982 02:21:05, got 17-Aug-1982 02:21:05, OK
Inserted 27-Aug-2013 20:52:49, got 27-Aug-2013 20:52:49, OK
Inserted 13-Dec-2027 14:10:48, got 13-Dec-2027 14:10:48, OK
Inserted 13-Dec-1901 20:45:52, got 13-Dec-1901 20:45:52, OK
Inserted 29-Jun-2025 02:53:11, got 29-Jun-2025 02:53:11, OK
Inserted 24-Jul-2031 23:54:31, got 24-Jul-2031 23:54:31, OK
Inserted 15-Mar-1971 21:08:49, got 15-Mar-1971 20:08:49 &lt;-------- FAIL
Inserted 27-Apr-1981 21:35:54, got 27-Apr-1981 21:35:54, OK
Inserted 22-Dec-2008 19:00:03, got 22-Dec-2008 19:00:03, OK
Inserted 13-Dec-1901 20:45:52, got 13-Dec-1901 20:45:52, OK
Inserted 11-Feb-1986 09:25:28, got 11-Feb-1986 09:25:28, OK
Inserted 24-Mar-1971 12:46:15, got 24-Mar-1971 11:46:15 &lt;-------- FAIL
Inserted 13-Dec-1901 20:45:52, got 13-Dec-1901 20:45:52, OK
Inserted 29-Sep-2016 04:41:02, got 29-Sep-2016 04:41:02, OK
Inserted 03-Dec-2000 09:58:00, got 03-Dec-2000 09:58:00, OK
Inserted 10-Dec-1991 18:08:10, got 10-Dec-1991 18:08:10, OK
Inserted 13-Dec-1901 20:45:52, got 13-Dec-1901 20:45:52, OK
Inserted 13-Dec-1901 20:45:52, got 13-Dec-1901 20:45:52, OK
Inserted 29-Oct-1999 04:17:24, got 29-Oct-1999 04:17:24, OK
Inserted 21-Oct-1988 14:15:16, got 21-Oct-1988 14:15:16, OK
Inserted 27-May-2022 04:21:34, got 27-May-2022 04:21:34, OK
Inserted 16-Oct-1982 05:25:39, got 16-Oct-1982 05:25:39, OK
Inserted 19-Nov-1998 14:57:54, got 19-Nov-1998 14:57:54, OK
Inserted 29-Jun-1975 10:06:11, got 29-Jun-1975 10:06:11, OK
Inserted 13-Dec-1901 20:45:52, got 13-Dec-1901 20:45:52, OK
Inserted 02-Jul-1996 03:08:55, got 02-Jul-1996 03:08:55, OK
Inserted 13-Dec-1901 20:45:52, got 13-Dec-1901 20:45:52, OK
Inserted 17-Jan-2016 17:46:01, got 17-Jan-2016 17:46:01, OK
Inserted 28-Feb-1993 16:57:25, got 28-Feb-1993 16:57:25, OK
Inserted 21-Dec-1977 16:54:30, got 21-Dec-1977 16:54:30, OK
Inserted 05-Mar-2003 12:58:52, got 05-Mar-2003 12:58:52, OK
Inserted 03-Jul-2023 17:06:21, got 03-Jul-2023 17:06:21, OK
Inserted 13-Dec-1901 20:45:52, got 13-Dec-1901 20:45:52, OK
Inserted 06-Aug-1981 02:57:40, got 06-Aug-1981 02:57:40, OK
Inserted 17-Nov-1983 23:55:58, got 17-Nov-1983 23:55:58, OK
Inserted 17-Mar-1999 22:40:16, got 17-Mar-1999 22:40:16, OK
Inserted 04-Oct-2023 18:55:54, got 04-Oct-2023 18:55:54, OK
Inserted 28-Feb-1991 09:52:00, got 28-Feb-1991 09:52:00, OK
Inserted 13-Dec-1901 20:45:52, got 13-Dec-1901 20:45:52, OK
</pre>
<p>The only thing I can see is that they’re near the Unix epoch, but why would that cause it to be exactly 1 hour out…? The latest version of the code is <a href="https://github.com/gaiustech/ociml">up on Github</a>. The underlying C code is in <code>oci_types.c</code>.</p>
<p>Anyway, at least this illustrates the value of soak-testing with randomly generated data – I had never experienced this issue “in the wild”, not has it been reported. </p>
<p><strong>Update</strong>: Fixed! Was a double-application of <code>localtime</code>. The epoch thing was a red herring. I suppose the moral of the story is make sure your random data is really random…</p>
<br/>  <a href="http://feeds.wordpress.com/1.0/gocomments/gaiustech.wordpress.com/2281/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/comments/gaiustech.wordpress.com/2281/" alt="" border="0"/></a> <img src="http://stats.wordpress.com/b.gif?host=gaiustech.wordpress.com&amp;blog=15595609&amp;post=2281&amp;subd=gaiustech&amp;ref=&amp;feed=1" alt="" height="1" border="0" width="1"/><a onclick="switchContent('post2','post1')" class="btn" href="#65f75a9edcd4cc25315912e7a74d1dc8">Hide</a></div></span>
<a name="c9b452e7fcdc164463bc1c75b62ef868"></a><span class="rss-header"><span class="rss-title"><a href="http://gaiustech.wordpress.com/?p=2279"> Schoolboy Error</a></span>&nbsp;&mdash;&nbsp;<span class="rss-author">Gaius Hammond</span>, <span class="rss-date">17 Aug 2013</span></span><span class="rss-description"><p>Trying to tweet</p>
<blockquote><p>INSERT 28578190.4189831614, SELECT 28578190.4189831689, unit tests fail. Schoolboy error!</p></blockquote>
<p>Gives me “Internal Server Error”. Ironically next in my stream to <a href="https://blog.twitter.com/2013/new-tweets-per-second-record-and-how">this blog post</a> from Twitter themselves. That makes two of us…</p>
<br/>  <a href="http://feeds.wordpress.com/1.0/gocomments/gaiustech.wordpress.com/2279/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/comments/gaiustech.wordpress.com/2279/" alt="" border="0"/></a> <img src="http://stats.wordpress.com/b.gif?host=gaiustech.wordpress.com&amp;blog=15595609&amp;post=2279&amp;subd=gaiustech&amp;ref=&amp;feed=1" alt="" height="1" border="0" width="1"/></span>
<a name="e06de7bc69a63516b06af0e4633c7dad"></a><span class="rss-header"><span class="rss-title"><a href="http://le-gall.net/sylvain+violaine/blog/index.php?post/2013/08/16/OASIS-website-updated"> OASIS website updated</a></span>&nbsp;&mdash;&nbsp;<span class="rss-author">Sylvain Le Gall</span>, <span class="rss-date">16 Aug 2013</span></span><span class="rss-description"><div id="post3"><p><img src="http://le-gall.net/sylvain+violaine/blog/images/logo.png" alt="Logo OASIS small" style="float: right; margin: 0 0 1em 1em;" title="Logo OASIS small, juin 2012"/>
The <a href="http://oasis.forge.ocamlcore.org">OASIS website</a> has not been updated since a while. So I decide to take a shot at making more up to date. This blog post is about the pipeline I have but in place to automatically update the website. It is the first end to end 'continuous deployment' project I have achieved.</p>


<p>Among the user visible changes:</p>

<ul>
<li>an invitation to circle the <a href="https://plus.google.com/u/0/105318132004091872602/">OASIS G+ page</a>, which is now the official channel for small updates in OASIS.</li>
<li>an invitation to fork the project on <a href="https://github.com/ocaml/oasis">Github</a> since it is now the official repository for OASIS.</li>
<li>some link to documentation for the bleeding edge version of OASIS <a href="http://oasis.forge.ocamlcore.org/MANUAL-dev.html">manual</a> and <a href="http://oasis.forge.ocamlcore.org/api-oasis-dev/index.html">API</a>.</li>
</ul>

<p>The OASIS website repository is also on <a href="https://github.com/ocaml/oasis-website">Github</a>. Feel free to fork it and send me pull request if you see any mistake.</p>


<p>The website is still using a lot of markdown processed by <a href="http://johnmacfarlane.net/pandoc/">pandoc</a>. But there are some new technical features:</p>
<ul>
<li>no more index.php, we use a templating system to point to latest version</li>
<li>we use a Jenkins job to generate the website daily or after any update in OASIS itself.</li>
</ul>

<a onclick="switchContent('post3','post4')" class="btn" href="#e06de7bc69a63516b06af0e4633c7dad">Read more...</a></div><div id="post4" style="display: none"><p><img src="http://le-gall.net/sylvain+violaine/blog/images/logo.png" alt="Logo OASIS small" style="float: right; margin: 0 0 1em 1em;" title="Logo OASIS small, juin 2012"/>
The <a href="http://oasis.forge.ocamlcore.org">OASIS website</a> has not been updated since a while. So I decide to take a shot at making more up to date. This blog post is about the pipeline I have but in place to automatically update the website. It is the first end to end 'continuous deployment' project I have achieved.</p>


<p>Among the user visible changes:</p>

<ul>
<li>an invitation to circle the <a href="https://plus.google.com/u/0/105318132004091872602/">OASIS G+ page</a>, which is now the official channel for small updates in OASIS.</li>
<li>an invitation to fork the project on <a href="https://github.com/ocaml/oasis">Github</a> since it is now the official repository for OASIS.</li>
<li>some link to documentation for the bleeding edge version of OASIS <a href="http://oasis.forge.ocamlcore.org/MANUAL-dev.html">manual</a> and <a href="http://oasis.forge.ocamlcore.org/api-oasis-dev/index.html">API</a>.</li>
</ul>

<p>The OASIS website repository is also on <a href="https://github.com/ocaml/oasis-website">Github</a>. Feel free to fork it and send me pull request if you see any mistake.</p>


<p>The website is still using a lot of markdown processed by <a href="http://johnmacfarlane.net/pandoc/">pandoc</a>. But there are some new technical features:</p>
<ul>
<li>no more index.php, we use a templating system to point to latest version</li>
<li>we use a Jenkins job to generate the website daily or after any update in OASIS itself.</li>
</ul>

<p>Since I start using quite quite a lot Python, I have decided to use it for this project. It has a lot of nice libraries and it helps me to quickly do something about the website (and provides plenty of idea to create equivalent tools in OCaml).</p>


<h2>The daily generation: Jenkins</h2>


<p>I have a <a href="http://jenkins-ci.org/">Jenkins</a> instance running, so I decided to use it to compile once a day the new website with updated documentation and links. This Jenkins instance also monitor changes of the OASIS source code. So I can do something even more precise: regenerate the website after every OASIS changes.</p>


<p>I use the Jenkins instance to also generate a documentation tarball for OASIS manual and API. This helps a lot to be able to display the latest manual and API documentation. This way I can quickly browse the documentation and spot errors early.</p>


<p>Another good point about Jenkins, is that it allows to store SSH credential. So I created a build user, with its own SSH key, in the OCaml Forge and I use it to publish the website at the end of the build.</p>


<p>Right now Jenkins do the following:</p>
<ul>
<li>trigger a build of the OASIS website:
<ul>
<li>every day (cron)</li>
<li>when a push in OASIS website repository is detected</li>
<li>when a successful build of OASIS is achieved.</li>
</ul></li>
<li>get documentation artifact from the latest successful build of OASIS</li>
<li>build the website</li>
<li>publish it</li>
</ul>


<h2>Data gathering</h2>


<p>To build the website I need some data:</p>
<ul>
<li>documentation tarballs containing the API (HTML from OCamldoc) and manual (Markdow)</li>
<li>list of OASIS version published</li>
<li>links to each tarball (documentation and source tarball)</li>
</ul>

<p>The OCaml Forge has a nice <a href="http://forge.ocamlcore.org/soap/">SOAP API</a>. But one need to be logged in to access it. This is unfortunate, because I just want to access public data. The only way I found to gather my data was to scrape the OCaml Forge.</p>


<p>Python has a very nice scraping library for that: <a href="http://www.crummy.com/software/BeautifulSoup/">beautifulsoup</a>.</p>


<p>I use beautifulsoup to parse the HTML downloaded from the <a href="https://forge.ocamlcore.org/frs/?group_id=54">Files</a> tab of the OASIS project and extract all the relevant information. I use <em>curl</em> to download the documentation tarball (for released versions) and for the latest development version.</p>


<p><a href="https://github.com/ocaml/oasis-website/blob/master/template.py">Code</a></p>


<h2>Template</h2>


<p>Python has also a very nice library to process template: <a href="http://www.makotemplates.org/">mako</a>.</p>


<p>Using the data I have gathered, I feed them to <em>mako</em> and I process all the <em>.tmpl</em> files in the repository to create matching files.</p>


<p>Among the thing that I have transformed into template:</p>
<ul>
<li>the <em>index.php</em> has been transformed into a <em>index.mkd.tmpl</em>, it was a hackish PHP script scraping the RSS of updates before, it is now a clean template.</li>
<li><em>robots.txt.tmpl</em>, see the following section for explanation</li>
<li><em>documentation.mkd.tmpl</em> in order to list all version of documentation.</li>
</ul>

<h2>Fix documentation and indexing</h2>


<p>One of the problem of providing access to all versions of the documentation, is that people can end up reading an old version of the documentation. In order to prevent that, I use two different techniques:</p>
<ul>
<li>prevent search engine to index old version.</li>
<li>warn the user that he is reading an old version.</li>
</ul>

<p>To prevent search engine to index the file, I have created a <em>robots.txt</em> that list all URL of old documentation. This should be enough to prevent search engine to index the wrong page.</p>


<p>To warn the user that he is reading the wrong version, I have added a box "you are not viewing the latest version". This part was tricky but beautifulsoup v4 provide a nice API to edit HTML in place. I just have to find the right CSS selector to define the position where I want to insert my warning box.</p>


<p><a href="https://github.com/ocaml/oasis-website/blob/master/marknonlatest.py">Code</a></p>


<h2>Publish</h2>


<p>The ultimate goal of the project is the 'continuous deployment'. Rather than picking what version to deploy and do the process by hand, I let Jenkins deploy every version of it.</p>


<p>Deploying the website used to be a simple <em>rsync</em>. But for this project I decided to use a fancier method. I spend a few hours deciding what was the best framework to do the automatic deployment. There are two main frameworks around: <a href="http://www.capistranorb.com/">capistrano</a> (Ruby) and <a href="http://www.fabfile.org">fabric</a> (Python).</p>


<p>Fabric is written in Python, so I pick this one because it was a good fit for the project. Fabric biggest feature is to be a SSH wrapper.</p>


<p>The <a href="https://github.com/ocaml/oasis-website/blob/master/fabfile.py">fabric</a> script is quite simple and to understand it, you just have to know that <em>local</em> run a local command and <em>run</em> run a command on the target host.</p>


<p>The <em>fabfile.py</em> script do the following:</p>
<ul>
<li>create a local tarball using the OASIS website <em>html/</em> directory</li>
<li>upload the tarball to <em>ssh.ocamlcore.org</em></li>
<li>uncompress it and replace the <em>htdocs/</em> directory of the oasis project</li>
<li>remove the oldest tarballs, we keep a few versions to be able to perform a rollback.</li>
</ul>

<p>Given this new process, the website is updated in 3 minutes automatically after a successful build of OASIS.</p><a onclick="switchContent('post4','post3')" class="btn" href="#e06de7bc69a63516b06af0e4633c7dad">Hide</a></div></span>
<a name="58eb663c71391bb1d8bb3800d700a169"></a><span class="rss-header"><span class="rss-title"><a href="https://forge.ocamlcore.org/forum/forum.php?forum_id=882"> Cryptokit 1.8 released.</a></span>&nbsp;&mdash;&nbsp;<span class="rss-author">OCamlCore Forge News</span>, <span class="rss-date">15 Aug 2013</span></span><span class="rss-description"><pre class="rss-text">This is a minor release, fixing mostly build issues:

 - Build .cmxs with C bindings (Closes: #1303)
 - Use advapi32 on Windows (Close: #1055)
 - Allow to define --zlib-include and --zlib-libdir if zlib is not installed in the standard location.</pre></span>
<a name="95e24529fbb0f6445d9ce28f00b17d68"></a><span class="rss-header"><span class="rss-title"><a href="http://jobs.github.com/positions/0a9333c4-71da-11e0-9ac7-692793c00b45"> Full Time: Software Developer (Functional Programming) at Jane Street in New York, NY; London, UK; Hong Kong</a></span>&nbsp;&mdash;&nbsp;<span class="rss-author">Github OCaml jobs</span>, <span class="rss-date">15 Aug 2013</span></span><span class="rss-description"><div id="post5"><p>Software Developer (Functional Programming)</p>

<p>Jane Street is looking to hire great software developers with an interest in functional programming. OCaml, a statically typed functional programming with similarities to Haskell, Scheme, Erlang, F# and SML, is our language of choice. We've got the largest team of OCaml developers in any industrial setting, and probably the world's largest OCaml codebase. We use OCaml for running our entire business, supporting everything from research to systems administration to trading systems. If you're interested in seeing how functional programming plays out in the real world, there's no better place.</p>

<p>The atmosphere is informal and intellectual. There is a focus on education, and people learn about software and trading, both through formal classes and on the job. The work is challenging, and you get to see the practical impact of your efforts in quick and dramatic terms. Jane Street is also small enough that people have the freedom to get involved in many different areas of the business. Compensation is highly competitive, and there's a lot of room for growth.</p>

<a onclick="switchContent('post5','post6')" class="btn" href="#95e24529fbb0f6445d9ce28f00b17d68">Read more...</a></div><div id="post6" style="display: none"><p>Software Developer (Functional Programming)</p>

<p>Jane Street is looking to hire great software developers with an interest in functional programming. OCaml, a statically typed functional programming with similarities to Haskell, Scheme, Erlang, F# and SML, is our language of choice. We've got the largest team of OCaml developers in any industrial setting, and probably the world's largest OCaml codebase. We use OCaml for running our entire business, supporting everything from research to systems administration to trading systems. If you're interested in seeing how functional programming plays out in the real world, there's no better place.</p>

<p>The atmosphere is informal and intellectual. There is a focus on education, and people learn about software and trading, both through formal classes and on the job. The work is challenging, and you get to see the practical impact of your efforts in quick and dramatic terms. Jane Street is also small enough that people have the freedom to get involved in many different areas of the business. Compensation is highly competitive, and there's a lot of room for growth.</p>

<p>You can learn more about Jane Street and our technology from our main site, janestreet.com. You can also look at a a talk given at CMU about why Jane Street uses functional programming (<a href="http://ocaml.janestreet.com/?q=node/61">http://ocaml.janestreet.com/?q=node/61</a>), our programming blog (<a href="http://ocaml.janestreet.com">http://ocaml.janestreet.com</a>), and some papers we've written about our experience using functional programming in the real world (<a href="http://janestreet.com/technology/articles.php">http://janestreet.com/technology/articles.php</a>).</p>

<p>We also have extensive benefits, including:</p>

<ul>
<li>90% book reimbursement for work-related books</li>
<li>90% tuition reimbursement for continuing education</li>
<li>Excellent, zero-premium medical and dental insurance</li>
<li>Free lunch delivered daily from a selection of restaurants</li>
<li>Catered breakfasts and fresh brewed Peet's coffee</li>
<li>An on-site, private gym in New York with towel service</li>
<li>Kitchens fully stocked with a variety of snack choices</li>
<li>Full company 401(k) match up to 6% of salary, vests immediately</li>
<li>Three weeks of paid vacation for new hires in the US</li>
<li>16 weeks fully paid maternity/paternity leave for primary caregivers, plus additional unpaid leave</li>
</ul>

<p>More information at <a href="http://janestreet.com/workplace/benefits.php">http://janestreet.com/workplace/benefits.php</a></p><a onclick="switchContent('post6','post5')" class="btn" href="#95e24529fbb0f6445d9ce28f00b17d68">Hide</a></div></span>
<a name="dc8eca2f33588fa0e273b95a50c5e183"></a><span class="rss-header"><span class="rss-title"><a href="http://coherentpdf.com/blog/?p=58"> CamlPDF 1.7</a></span>&nbsp;&mdash;&nbsp;<span class="rss-author">Coherent Graphics</span>, <span class="rss-date">15 Aug 2013</span></span><span class="rss-description">The first new release of the CamlPDF library for a while is here:

http://www.github.com/johnwhitington/camlpdf

(Or, shortly, via OPAM.)

The documentation is online here:

http://www.coherentpdf.com/camlpdf

A little introduction is here:

http://www.coherentpdf.com/introduction_to_camlpdf.pdf

Most importantly, CamlPDF is now open source, being under a standard  LGPL with linking exception licence.

This release is much cleaner: development has moved to Github for ...</span>
<a name="c9a05b8ff6327afbc5d3c7a3a2cd3795"></a><span class="rss-header"><span class="rss-title"><a href="http://www.wisdomandwonder.com/?p=8006"> OPAM for OCaml</a></span>&nbsp;&mdash;&nbsp;<span class="rss-author">Grant Rettke</span>, <span class="rss-date">12 Aug 2013</span></span><span class="rss-description"><blockquote><p><a href="http://opam.ocamlpro.com/">OPAM</a> is a source-based package manager for OCaml. It supports multiple simultaneous compiler installations, flexible package constraints, and a Git-friendly development workflow.</p></blockquote>
<p>Why <a href="http://opam.ocamlpro.com/doc/About.html">here</a>.</p></span>
<a name="b72ada818d049295912876ef515e8272"></a><span class="rss-header"><span class="rss-title"><a href="http://www.wisdomandwonder.com/?p=4441"> GODI – The source code Objective Caml distribution</a></span>&nbsp;&mdash;&nbsp;<span class="rss-author">Grant Rettke</span>, <span class="rss-date">11 Aug 2013</span></span><span class="rss-description"><p>Via its <a href="http://godi.camlcity.org/godi/index.html">homepage</a>: </p>
<blockquote>
<p>GODI provides an advanced programming environment for the Objective Caml (O’Caml) language.</p>
<p>From INRIA (who created O’Caml) you can get the O’Caml compiler and runtime system, but this is usually not enough to develop applications. You also need libraries, and there are many developers all over the world providing them; you can go and pick them up. But it is a lot of work to build and install them. </p>
<p>GODI is a system that simplifies this task: It is a framework that automatically builds the O’Caml core system, and additionally installs a growing number of pre-packaged libraries. For a number of reasons GODI is a source-code based system, and there are no precompiled libraries, but it makes it very simple for everybody to compile them. </p>
<p>GODI is available for O’Caml-3.10 and 3.11. It runs on Linux, Solaris, FreeBSD, NetBSD, Windows (Cygwin and MinGW), HP-UX, MacOS X.
</p></blockquote></span>
<a name="756e264c4351dde937cc7ed3553eaf6e"></a><span class="rss-header"><span class="rss-title"><a href="http://www.openmirage.org/blog/oscon13-trip-report"> Mirage travels to OSCON'13: a trip report</a></span>&nbsp;&mdash;&nbsp;<span class="rss-author"><span id="ocaml_4">Open Mirage &#9001;mort<abbr title="(at) &rarr; @">(at)</abbr>cantab.net (Richard Mortier)&#9002;</span><script type="text/javascript"><!--;
local = "mort";
h = "cantab.net (Richard Mortier)";
hq = "cantab.net%20(Richard%20Mortier)";
document.getElementById("ocaml_4").innerHTML = '<a href="mailto:' + local + '@' + hq + "\" >Open Mirage<\/a>";
//--></script></span>, <span class="rss-date">08 Aug 2013</span></span><span class="rss-description"><div id="post7"><p>Now that Mirage OS is rapidly converging on a <a href="http://github.com/avsm/mirage/issues/102">Developer Preview Release 1</a>, we took it for a first public outing at <a href="http://www.oscon.com/oscon2013/">OSCON'13</a>, the O'Reilly Open Source Conference. OSCON is in its 15th year now, and is a meeting place for developers, business people and investors. It was a great opportunity to show MirageOS off to some of the movers and shakers in the OSS world.</p><p>Partly because MirageOS is about synthesising extremely specialised guest kernels from high-level code, and partly because both Anil and I are constitutionally incapable of taking the easy way out, we self-hosted the slide deck on Mirage: after some last-minute hacking -- on content not Mirage I should add! -- we built a self-contained microkernel of the talk.</p><a onclick="switchContent('post7','post8')" class="btn" href="#756e264c4351dde937cc7ed3553eaf6e">Read more...</a></div><div id="post8" style="display: none"><p>Now that Mirage OS is rapidly converging on a <a href="http://github.com/avsm/mirage/issues/102">Developer Preview Release 1</a>, we took it for a first public outing at <a href="http://www.oscon.com/oscon2013/">OSCON'13</a>, the O'Reilly Open Source Conference. OSCON is in its 15th year now, and is a meeting place for developers, business people and investors. It was a great opportunity to show MirageOS off to some of the movers and shakers in the OSS world.</p><p>Partly because MirageOS is about synthesising extremely specialised guest kernels from high-level code, and partly because both Anil and I are constitutionally incapable of taking the easy way out, we self-hosted the slide deck on Mirage: after some last-minute hacking -- on content not Mirage I should add! -- we built a self-contained microkernel of the talk.</p><p>This was what you might call a "full stack" presentation: the custom microkernel (flawlessly!) ran a type-safe <a href="https://github.com/mirage/mirage-platform/blob/master/xen/lib/netif.ml">network device driver</a>, OCaml <a href="http://github.com/mirage/mirage-net">TCP/IP stack</a> supporting an OCaml <a href="http://github.com/mirage/ocaml-cohttp">HTTP</a> framework that served slides rendered using <a href="http://lab.hakim.se/reveal-js/">reveal.js</a>. The slide deck, including the turbo-boosted <a href="http://www.youtube.com/watch?v=2Mx8Bd5JYyo">screencast</a> of the slide deck compilation, is hosted as another MirageOS virtual machine at <a href="http://decks.openmirage.org/">decks.openmirage.org</a>. We hope to add more slide decks there soon, including resurrecting the tutorial! The source code for all this is in the <a href="http://github.com/mirage/mirage-decks">mirage-decks</a> GitHub repo.</p><h3><a name="h3-TheTalk" class="anchor-toc"> The Talk</a></h3><p>The talk went down pretty well -- given we were in a graveyard slot on Friday after many people had left, attendance was fairly high (around 30-40), and the <a href="http://www.oscon.com/oscon2013/public/schedule/detail/28956">feedback scores</a> have been positive (averaging 4.7/5) with comments including "excellent content and well done" and "one of the most excited projects I heard about" (though we are suspicious that just refers to Anil's usual high-energy presentation style...).</p><p>&lt;iframe align="right" allowfullscreen="1" frameborder="0" height="235" src="http://www.youtube-nocookie.com/embed/2Mx8Bd5JYyo" style="margin-left: 10px;" width="420"&gt; &lt;/iframe&gt;</p><p>Probably the most interesting chat after the talk was with the Rust authors at Mozilla (<a href="http://twitter.com/pcwalton">@pcwalton</a> and <a href="https://github.com/brson">@brson</a>) about combining the Mirage <a href="http://anil.recoil.org/papers/2013-asplos-mirage.pdf">unikernel</a> techniques with the <a href="http://www.rust-lang.org">Rust</a> runtime. But perhaps the most surprising feedback was when Anil and I were stopped in the street while walking back from some well-earned sushi, by a cyclist who loudly declared that he'd really enjoyed the talk and thought it was a really exciting project -- never done something that achieved public acclaim from the streets before :)</p><h3><a name="h3-BookSigningandXen.org" class="anchor-toc"> Book Signing and Xen.org</a></h3><p>Anil also took some time to sit in a book signing for his forthcoming <a href="http://realworldocaml.org">Real World OCaml</a> O'Reilly book.  This is really important to making OCaml easier to learn, especially given that all the Mirage libraries are using it.  Most of the dev team (and especially thanks to <a href="https://twitter.com/heidiann360">Heidi Howard</a> who bravely worked through really early alpha revisions) have been giving us feedback as the book is written, using the online commenting system.</p><p>The Xen.org booth was also huge, and we spent quite a while plotting the forthcoming Mirage/Xen/ARM backend. We're pretty much just waiting for the <a href="http://cubieboard.org">Cubieboard2</a> kernel patches to be upstreamed (keep an eye <a href="http://linux-sunxi.org/Main_Page">here</a>) so that we can boot Xen/ARM VMs on tiny ARM devices.  There's a full report about this on the <a href="http://blog.xen.org/index.php/2013/07/31/the-xen-project-at-oscon/">xen.org</a> blog post about OSCon.</p><h3><a name="h3-GaloisandHalVM" class="anchor-toc"> Galois and HalVM</a></h3><p>We also stopped by the <a href="http://corp.galois.com">Galois</a> to chat with <a href="https://twitter.com/acwpdx">Adam Wick</a>, who is the leader of the <a href="http://corp.galois.com/halvm">HalVM</a> project at Galois. This is a similar project to Mirage, but, since it's written in Haskell, has more of a focus on elegant compositional semantics rather than the more brutal performance and predictability that Mirage currently has at its lower levels.</p><p>The future of all this ultimately lies in making it easier for these multi-lingual unikernels to be managed and for all of them to communicate more easily, so we chatted about code sharing and common protocols (such as <a href="https://github.com/vbmithr/ocaml-vchan">vchan</a>) to help interoperability. Expect to see more of this once our respective implementations get more stable.</p><p>All-in-all OSCON'13 was a fun event and definitely one that we look forward returning to with a more mature version of MirageOS, to build on the momentum begun this year!  Portland was an amazing host city too, but what happens in Portland, stays in Portland...</p><a onclick="switchContent('post8','post7')" class="btn" href="#756e264c4351dde937cc7ed3553eaf6e">Hide</a></div></span>
<a name="2895e571d9df92eaff657637a147984b"></a><span class="rss-header"><span class="rss-title"><a href="http://anil.recoil.org/2013/08/06/real-world-ocaml-beta2"> Final Real World OCaml beta; the good, the bad and the ugly</a></span>&nbsp;&mdash;&nbsp;<span class="rss-author">Anil Madhavapeddy</span>, <span class="rss-date">06 Aug 2013</span></span><span class="rss-description"><div id="post9"><p>The second and final public beta of Real World OCaml is now available: <a href="https://realworldocaml.org">https://realworldocaml.org</a></p>

<p>Release notes:</p>

<a onclick="switchContent('post9','post10')" class="btn" href="#2895e571d9df92eaff657637a147984b">Read more...</a></div><div id="post10" style="display: none"><p>The second and final public beta of Real World OCaml is now available: <a href="https://realworldocaml.org">https://realworldocaml.org</a></p>

<p>Release notes:</p>

<ul>
<li>
<p>Over 2,000 comments from proofreaders have been resolved. We realize that reading early content is hard work, and hugely appreciate the spirited feedback! The book is now a week away from being handed over to the O’Reilly production team for copyediting, so the window for changes are limited after that. Comments reset between milestones and so beta2 is a clean slate; we’re still working through some remaining older issues.</p>
</li>

<li>
<p>The chapters on first-class modules, parsing with Menhir, and objects and classes have been significantly revised from beta1. Our thanks to Leo White for contributing significantly to the latter two chapters.</p>
</li>

<li>
<p>All the code snippets and terminal outputs are now mechanically generated. The source code is as close to public domain as practical, at: <a href="https://github.com/realworldocaml/examples">https://github.com/realworldocaml/examples</a></p>
</li>

<li>
<p>The final version will have the installation chapter moved to be online only, and we intend to publish updates there to elaborate on installation and packaging mechanisms.</p>
</li>

<li>
<p>Exercises will be available after we go into production, and also only be available online. We really like the collaborative spirit of the commenting system, and will likely extend this to collecting exercises from our readers on an ongoing basis.</p>
</li>
</ul>

<p>There’s been quite a bit of feedback and conversation about the book, so this also seemed like a good point to checkpoint the process somewhat.</p>

<h2 id="crowd_sourcing_community_feedback">Crowd sourcing community feedback</h2>
<a href="http://realworldocaml.org"><img src="http://anil.recoil.org/images/oreilly-cover.gif" align="right" style="padding-left: 15px;"/></a>
<p><em>Good</em>: The decision to crowdsource feedback has been exhausting but very worthwhile, with over 2,200 <a href="http://github.com/ocamllabs/rwo-comments">comments</a> posted (and over 2,000 resolved by us too!). O’Reilly has a similar platform called <a href="http://atlas.labs.oreilly.com">Atlas</a> that wasn’t quite ready when we started our book, but I’d highly encourage new authors to go down this route and not stick with a traditional editorial scheme.</p>

<p>It’s simply not possible for a small group of technical reviewers to notice as many errors as the wider community has. Having said this, it’s interesting how much more focussed and critical the comments of our editor <a href="http://radar.oreilly.com/andyo">Andy Oram</a> were when compared to most of the wider community feedback, so the commenting system is definitely a complement and not a replacement to the editorial process.</p>

<h3 id="the_github_requirement">The GitHub requirement</h3>

<p><em>Bad</em>: After the first beta, we got criticized on a <a href="https://news.ycombinator.com/item?id=5893168">Hacker News</a> thread for passing around Github oAuth tokens without SSL. This was entirely my fault, and I corrected the site to be pure-SSL within 24 hours.</p>

<p><em>Ugly</em>: In my defence though, I <em>dont want</em> the authority that all the reviewers have granted to me for their Github accounts! We need just two things to enable commenting: an identity service to cut down on spam comments, and the ability to create issues in a <a href="http://github.com/ocamllabs/rwo-comments">public repository</a>. Unfortunately, Github’s <a href="http://developer.github.com/v3/oauth/#scopes">scope</a> API requires you to also grant us access to commit to public code repositories. Add on the fact that around 6,000 people have clicked through the oAuth API to review RWO, and you start to see just how much code we potentially have access to. I did try to reduce the damage by not actually storing the oAuth tokens on the server-side. Instead, we store it in the client using a secure cookie, so you can easily reset your browser to log out.</p>

<p>It’s not just about authentication either: another reader <a href="http://www.reddit.com/r/ocaml/comments/1gil84/public_beta_of_real_world_ocaml/cal811r">points out</a> that if they use GitHub during work hours, they have no real way of separating the news streams that result.</p>

<p>Much of the frustration here is that there’s nothing I can do to fix this except wait for GitHub to hopefully improve their service. I very much hope that GitHub is listening to this and has internal plans to overhaul their privilege management APIs.</p>

<h3 id="infrastructurefree_hosting">Infrastructure-free hosting</h3>

<p><em>Good</em> and <em>Bad</em>: One of my goals with the commenting infrastructure was to try and eliminate all server-side code, so that we could simply publish the book onto Github Pages and use JavaScript for the comment creation and listing.</p>

<p>This <em>almost</em> worked out. We still need a tiny HTTP proxy for comment creation, as we add contextual information such as a milestone to every new comment to make it easier to index. Setting a milestone requires privileged access to the repository and so our server-side proxy creates the issue using the user-supplied oAuth token (so that it originates from the commenter), and then updates it (via the <a href="http://github.com/bactrian">bactrian</a> account) to add the milestone add insert a little contextual comment pointing back to the book paragraph where the comment originated from.</p>

<p><em>Good</em>: The other criticism from the <a href="http://www.reddit.com/r/programming/comments/1gipea/first_public_beta_of_real_world_ocaml_book/cakmeuz">online feedback</a> was the <em>requirement</em> to have a Github login to read the book at all. This is a restriction that we intend to lift for the final release (which will be freely available online under a <a href="http://creativecommons.org/licenses/by-nc-nd/3.0/us/">CC-BY-NC-ND</a> license), but I think it’s absolutely the right decision to gateway early adopters to get useful feedback. Even if we lost 90% of our potential reviewers through the Github auth wall, I don’t think we could have coped with another 10,000 comments in any case.</p>

<p>On the positive side, we didn’t have a single spam comment or other abuses of the commenting system at all.</p>

<p>I’ve had quite a few queries been open-sourcing the <a href="http://github.com/realworldocaml/scripts">scripts</a> that drive the server-side commenting, and this on my TODO list for after the final book has gone to production.</p>

<h2 id="autogenerating_the_examples">Auto-generating the examples</h2>

<p><em>Bad</em>: We tried for far too long during the book writing to stumble through with manual installation instructions and hand-copied code snippets and outputs. Some of our alpha reviewers pointed out <a href="https://github.com/ocamllabs/rwo-comments/issues/236">vociferously</a> that spending time on installation and dealing with code typos was not a good use of their time.</p>

<p><em>Good</em>: <a href="http://bolinfest.com">Michael Bolin</a> was entirely correct in his criticism (and incidentally, one of our most superstar reviewers). The latest beta has an entirely mechanically generated toolchain that lets us regenerate the entire book output from a cold start by cloning the <a href="https://github.com/realworldocaml/examples">examples</a> repository. In retrospect, I should have written this infrastructure a year ago, and I’d recommend any new books of this sort focus hard on automation from the early days.</p>

<p>Luckily, my automation <a href="https://github.com/realworldocaml/scripts">scripts</a> could crib heavily from existing open-source OCaml projects that had portions of what we needed, such as <a href="https://github.com/diml/utop">uTop</a> and <a href="https://github.com/ocaml/ocaml.org">ocaml.org</a> (and my thanks to <a href="https://github.com/diml">Jeremie Dimino</a> and <a href="https://github.com/Chris00">Christophe Troestler</a> for their help here).</p>

<p><em>Awesome</em>: We’re hacking on a little surprise for the final online version of the book, based on this build infrastructure. Stay <a href="http://try.ocamlpro.com">tuned</a>!</p><a onclick="switchContent('post10','post9')" class="btn" href="#2895e571d9df92eaff657637a147984b">Hide</a></div></span>
<script type="text/javascript">function switchContent(id1,id2) {
     // Get the DOM reference
     var contentId1 = document.getElementById(id1);
     var contentId2 = document.getElementById(id2);
     // Toggle
     contentId1.style.display = "none";
     contentId2.style.display = "block";
     }</script></div>

  
    </div>

    
    <br/>
    <hr/>
    <div id="footer">
      Contribute to this project!
      Find us on <a href="https://github.com/ocaml/ocaml.org">Github</a>.
    </div>
    <span title=".././img/ = image directory from the base of the site"></span>


    
    
    

    <script src="http://platform.twitter.com/widgets.js" type="text/javascript"></script>
    <script src=".././js/jquery-1.8.0.min.js"></script>
    
    <script src=".././js/bootstrap.js"></script>

    <script type="text/javascript">
      var _gaq = _gaq || []; _gaq.push(['_setAccount', 'UA-22552764-2']); _gaq.push(['_trackPageview']);
      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>

    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-37808023-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();

    </script>

</body></html>
